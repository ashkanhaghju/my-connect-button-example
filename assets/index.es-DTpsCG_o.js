const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DiyqN5Pq.js","assets/index-BUbiDIUQ.js","assets/index-Ca74PG3G.css"])))=>i.map(i=>d[i]);
import{cL as jt,cl as sv,cM as hu,cN as Bo,cO as Fo,cP as av,cQ as ov,cR as uv,cS as cv,cT as hv,cU as fv,cV as lv,cW as rs,cX as pv,cY as Sn,cZ as dv,c_ as On,c$ as gv,d0 as fu,d1 as Vi,d2 as ke,d3 as vv,d4 as lu,d5 as Wo,_ as _v}from"./index-BUbiDIUQ.js";var br={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */br.exports;(function(P,r){(function(){var i,c="4.17.21",d=200,y="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",T="Invalid `variable` option passed into `_.template`",z="__lodash_hash_undefined__",ne=500,le="__lodash_placeholder__",se=1,pe=2,ue=4,Z=1,vt=2,_e=1,rt=2,Rn=4,$e=8,it=16,Ee=32,_t=64,Ke=128,be=256,nn=512,Or=30,He="...",Sr=800,rn=16,v=1,A=2,H=3,k=1/0,X=9007199254740991,K=17976931348623157e292,st=NaN,de=4294967295,sn=de-1,_u=de>>>1,mu=[["ary",Ke],["bind",_e],["bindKey",rt],["curry",$e],["curryRight",it],["flip",nn],["partial",Ee],["partialRight",_t],["rearg",be]],Mt="[object Arguments]",Tn="[object Array]",wu="[object AsyncFunction]",an="[object Boolean]",on="[object Date]",Pu="[object DOMException]",Dn="[object Error]",Ln="[object Function]",us="[object GeneratorFunction]",Je="[object Map]",un="[object Number]",yu="[object Null]",at="[object Object]",cs="[object Promise]",Cu="[object Proxy]",cn="[object RegExp]",Ye="[object Set]",hn="[object String]",$n="[object Symbol]",Iu="[object Undefined]",fn="[object WeakMap]",Au="[object WeakSet]",ln="[object ArrayBuffer]",Ut="[object DataView]",Rr="[object Float32Array]",Tr="[object Float64Array]",Dr="[object Int8Array]",Lr="[object Int16Array]",$r="[object Int32Array]",Hr="[object Uint8Array]",Nr="[object Uint8ClampedArray]",Mr="[object Uint16Array]",Ur="[object Uint32Array]",Eu=/\b__p \+= '';/g,bu=/\b(__p \+=) '' \+/g,xu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hs=/&(?:amp|lt|gt|quot|#39);/g,fs=/[&<>"']/g,Ou=RegExp(hs.source),Su=RegExp(fs.source),Ru=/<%-([\s\S]+?)%>/g,Tu=/<%([\s\S]+?)%>/g,ls=/<%=([\s\S]+?)%>/g,Du=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lu=/^\w*$/,$u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/[\\^$.*+?()[\]{}|]/g,Hu=RegExp(qr.source),Br=/^\s+/,Nu=/\s/,Mu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Uu=/\{\n\/\* \[wrapped with (.+)\] \*/,qu=/,? & /,Bu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fu=/[()=,{}\[\]\/\s]/,Wu=/\\(\\)?/g,Gu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ps=/\w*$/,zu=/^[-+]0x[0-9a-f]+$/i,Ku=/^0b[01]+$/i,Ju=/^\[object .+?Constructor\]$/,Yu=/^0o[0-7]+$/i,Zu=/^(?:0|[1-9]\d*)$/,Xu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hn=/($^)/,Qu=/['\n\r\u2028\u2029\\]/g,Nn="\\ud800-\\udfff",Vu="\\u0300-\\u036f",ku="\\ufe20-\\ufe2f",ju="\\u20d0-\\u20ff",ds=Vu+ku+ju,gs="\\u2700-\\u27bf",vs="a-z\\xdf-\\xf6\\xf8-\\xff",ec="\\xac\\xb1\\xd7\\xf7",tc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nc="\\u2000-\\u206f",rc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_s="A-Z\\xc0-\\xd6\\xd8-\\xde",ms="\\ufe0e\\ufe0f",ws=ec+tc+nc+rc,Fr="['’]",ic="["+Nn+"]",Ps="["+ws+"]",Mn="["+ds+"]",ys="\\d+",sc="["+gs+"]",Cs="["+vs+"]",Is="[^"+Nn+ws+ys+gs+vs+_s+"]",Wr="\\ud83c[\\udffb-\\udfff]",ac="(?:"+Mn+"|"+Wr+")",As="[^"+Nn+"]",Gr="(?:\\ud83c[\\udde6-\\uddff]){2}",zr="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+_s+"]",Es="\\u200d",bs="(?:"+Cs+"|"+Is+")",oc="(?:"+qt+"|"+Is+")",xs="(?:"+Fr+"(?:d|ll|m|re|s|t|ve))?",Os="(?:"+Fr+"(?:D|LL|M|RE|S|T|VE))?",Ss=ac+"?",Rs="["+ms+"]?",uc="(?:"+Es+"(?:"+[As,Gr,zr].join("|")+")"+Rs+Ss+")*",cc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ts=Rs+Ss+uc,fc="(?:"+[sc,Gr,zr].join("|")+")"+Ts,lc="(?:"+[As+Mn+"?",Mn,Gr,zr,ic].join("|")+")",pc=RegExp(Fr,"g"),dc=RegExp(Mn,"g"),Kr=RegExp(Wr+"(?="+Wr+")|"+lc+Ts,"g"),gc=RegExp([qt+"?"+Cs+"+"+xs+"(?="+[Ps,qt,"$"].join("|")+")",oc+"+"+Os+"(?="+[Ps,qt+bs,"$"].join("|")+")",qt+"?"+bs+"+"+xs,qt+"+"+Os,hc,cc,ys,fc].join("|"),"g"),vc=RegExp("["+Es+Nn+ds+ms+"]"),_c=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wc=-1,V={};V[Rr]=V[Tr]=V[Dr]=V[Lr]=V[$r]=V[Hr]=V[Nr]=V[Mr]=V[Ur]=!0,V[Mt]=V[Tn]=V[ln]=V[an]=V[Ut]=V[on]=V[Dn]=V[Ln]=V[Je]=V[un]=V[at]=V[cn]=V[Ye]=V[hn]=V[fn]=!1;var Q={};Q[Mt]=Q[Tn]=Q[ln]=Q[Ut]=Q[an]=Q[on]=Q[Rr]=Q[Tr]=Q[Dr]=Q[Lr]=Q[$r]=Q[Je]=Q[un]=Q[at]=Q[cn]=Q[Ye]=Q[hn]=Q[$n]=Q[Hr]=Q[Nr]=Q[Mr]=Q[Ur]=!0,Q[Dn]=Q[Ln]=Q[fn]=!1;var Pc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},yc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ic={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ac=parseFloat,Ec=parseInt,Ds=typeof jt=="object"&&jt&&jt.Object===Object&&jt,bc=typeof self=="object"&&self&&self.Object===Object&&self,he=Ds||bc||Function("return this")(),Jr=r&&!r.nodeType&&r,xt=Jr&&!0&&P&&!P.nodeType&&P,Ls=xt&&xt.exports===Jr,Yr=Ls&&Ds.process,Ne=function(){try{var l=xt&&xt.require&&xt.require("util").types;return l||Yr&&Yr.binding&&Yr.binding("util")}catch{}}(),$s=Ne&&Ne.isArrayBuffer,Hs=Ne&&Ne.isDate,Ns=Ne&&Ne.isMap,Ms=Ne&&Ne.isRegExp,Us=Ne&&Ne.isSet,qs=Ne&&Ne.isTypedArray;function xe(l,_,g){switch(g.length){case 0:return l.call(_);case 1:return l.call(_,g[0]);case 2:return l.call(_,g[0],g[1]);case 3:return l.call(_,g[0],g[1],g[2])}return l.apply(_,g)}function xc(l,_,g,b){for(var D=-1,W=l==null?0:l.length;++D<W;){var ae=l[D];_(b,ae,g(ae),l)}return b}function Me(l,_){for(var g=-1,b=l==null?0:l.length;++g<b&&_(l[g],g,l)!==!1;);return l}function Oc(l,_){for(var g=l==null?0:l.length;g--&&_(l[g],g,l)!==!1;);return l}function Bs(l,_){for(var g=-1,b=l==null?0:l.length;++g<b;)if(!_(l[g],g,l))return!1;return!0}function mt(l,_){for(var g=-1,b=l==null?0:l.length,D=0,W=[];++g<b;){var ae=l[g];_(ae,g,l)&&(W[D++]=ae)}return W}function Un(l,_){var g=l==null?0:l.length;return!!g&&Bt(l,_,0)>-1}function Zr(l,_,g){for(var b=-1,D=l==null?0:l.length;++b<D;)if(g(_,l[b]))return!0;return!1}function j(l,_){for(var g=-1,b=l==null?0:l.length,D=Array(b);++g<b;)D[g]=_(l[g],g,l);return D}function wt(l,_){for(var g=-1,b=_.length,D=l.length;++g<b;)l[D+g]=_[g];return l}function Xr(l,_,g,b){var D=-1,W=l==null?0:l.length;for(b&&W&&(g=l[++D]);++D<W;)g=_(g,l[D],D,l);return g}function Sc(l,_,g,b){var D=l==null?0:l.length;for(b&&D&&(g=l[--D]);D--;)g=_(g,l[D],D,l);return g}function Qr(l,_){for(var g=-1,b=l==null?0:l.length;++g<b;)if(_(l[g],g,l))return!0;return!1}var Rc=Vr("length");function Tc(l){return l.split("")}function Dc(l){return l.match(Bu)||[]}function Fs(l,_,g){var b;return g(l,function(D,W,ae){if(_(D,W,ae))return b=W,!1}),b}function qn(l,_,g,b){for(var D=l.length,W=g+(b?1:-1);b?W--:++W<D;)if(_(l[W],W,l))return W;return-1}function Bt(l,_,g){return _===_?zc(l,_,g):qn(l,Ws,g)}function Lc(l,_,g,b){for(var D=g-1,W=l.length;++D<W;)if(b(l[D],_))return D;return-1}function Ws(l){return l!==l}function Gs(l,_){var g=l==null?0:l.length;return g?jr(l,_)/g:st}function Vr(l){return function(_){return _==null?i:_[l]}}function kr(l){return function(_){return l==null?i:l[_]}}function zs(l,_,g,b,D){return D(l,function(W,ae,Y){g=b?(b=!1,W):_(g,W,ae,Y)}),g}function $c(l,_){var g=l.length;for(l.sort(_);g--;)l[g]=l[g].value;return l}function jr(l,_){for(var g,b=-1,D=l.length;++b<D;){var W=_(l[b]);W!==i&&(g=g===i?W:g+W)}return g}function ei(l,_){for(var g=-1,b=Array(l);++g<l;)b[g]=_(g);return b}function Hc(l,_){return j(_,function(g){return[g,l[g]]})}function Ks(l){return l&&l.slice(0,Xs(l)+1).replace(Br,"")}function Oe(l){return function(_){return l(_)}}function ti(l,_){return j(_,function(g){return l[g]})}function pn(l,_){return l.has(_)}function Js(l,_){for(var g=-1,b=l.length;++g<b&&Bt(_,l[g],0)>-1;);return g}function Ys(l,_){for(var g=l.length;g--&&Bt(_,l[g],0)>-1;);return g}function Nc(l,_){for(var g=l.length,b=0;g--;)l[g]===_&&++b;return b}var Mc=kr(Pc),Uc=kr(yc);function qc(l){return"\\"+Ic[l]}function Bc(l,_){return l==null?i:l[_]}function Ft(l){return vc.test(l)}function Fc(l){return _c.test(l)}function Wc(l){for(var _,g=[];!(_=l.next()).done;)g.push(_.value);return g}function ni(l){var _=-1,g=Array(l.size);return l.forEach(function(b,D){g[++_]=[D,b]}),g}function Zs(l,_){return function(g){return l(_(g))}}function Pt(l,_){for(var g=-1,b=l.length,D=0,W=[];++g<b;){var ae=l[g];(ae===_||ae===le)&&(l[g]=le,W[D++]=g)}return W}function Bn(l){var _=-1,g=Array(l.size);return l.forEach(function(b){g[++_]=b}),g}function Gc(l){var _=-1,g=Array(l.size);return l.forEach(function(b){g[++_]=[b,b]}),g}function zc(l,_,g){for(var b=g-1,D=l.length;++b<D;)if(l[b]===_)return b;return-1}function Kc(l,_,g){for(var b=g+1;b--;)if(l[b]===_)return b;return b}function Wt(l){return Ft(l)?Yc(l):Rc(l)}function Ze(l){return Ft(l)?Zc(l):Tc(l)}function Xs(l){for(var _=l.length;_--&&Nu.test(l.charAt(_)););return _}var Jc=kr(Cc);function Yc(l){for(var _=Kr.lastIndex=0;Kr.test(l);)++_;return _}function Zc(l){return l.match(Kr)||[]}function Xc(l){return l.match(gc)||[]}var Qc=function l(_){_=_==null?he:Gt.defaults(he.Object(),_,Gt.pick(he,mc));var g=_.Array,b=_.Date,D=_.Error,W=_.Function,ae=_.Math,Y=_.Object,ri=_.RegExp,Vc=_.String,Ue=_.TypeError,Fn=g.prototype,kc=W.prototype,zt=Y.prototype,Wn=_["__core-js_shared__"],Gn=kc.toString,J=zt.hasOwnProperty,jc=0,Qs=function(){var e=/[^.]+$/.exec(Wn&&Wn.keys&&Wn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),zn=zt.toString,eh=Gn.call(Y),th=he._,nh=ri("^"+Gn.call(J).replace(qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kn=Ls?_.Buffer:i,yt=_.Symbol,Jn=_.Uint8Array,Vs=Kn?Kn.allocUnsafe:i,Yn=Zs(Y.getPrototypeOf,Y),ks=Y.create,js=zt.propertyIsEnumerable,Zn=Fn.splice,ea=yt?yt.isConcatSpreadable:i,dn=yt?yt.iterator:i,Ot=yt?yt.toStringTag:i,Xn=function(){try{var e=Lt(Y,"defineProperty");return e({},"",{}),e}catch{}}(),rh=_.clearTimeout!==he.clearTimeout&&_.clearTimeout,ih=b&&b.now!==he.Date.now&&b.now,sh=_.setTimeout!==he.setTimeout&&_.setTimeout,Qn=ae.ceil,Vn=ae.floor,ii=Y.getOwnPropertySymbols,ah=Kn?Kn.isBuffer:i,ta=_.isFinite,oh=Fn.join,uh=Zs(Y.keys,Y),oe=ae.max,ge=ae.min,ch=b.now,hh=_.parseInt,na=ae.random,fh=Fn.reverse,si=Lt(_,"DataView"),gn=Lt(_,"Map"),ai=Lt(_,"Promise"),Kt=Lt(_,"Set"),vn=Lt(_,"WeakMap"),_n=Lt(Y,"create"),kn=vn&&new vn,Jt={},lh=$t(si),ph=$t(gn),dh=$t(ai),gh=$t(Kt),vh=$t(vn),jn=yt?yt.prototype:i,mn=jn?jn.valueOf:i,ra=jn?jn.toString:i;function o(e){if(te(e)&&!L(e)&&!(e instanceof q)){if(e instanceof qe)return e;if(J.call(e,"__wrapped__"))return io(e)}return new qe(e)}var Yt=function(){function e(){}return function(t){if(!ee(t))return{};if(ks)return ks(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function er(){}function qe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}o.templateSettings={escape:Ru,evaluate:Tu,interpolate:ls,variable:"",imports:{_:o}},o.prototype=er.prototype,o.prototype.constructor=o,qe.prototype=Yt(er.prototype),qe.prototype.constructor=qe;function q(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function _h(){var e=new q(this.__wrapped__);return e.__actions__=ye(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ye(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ye(this.__views__),e}function mh(){if(this.__filtered__){var e=new q(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function wh(){var e=this.__wrapped__.value(),t=this.__dir__,n=L(e),s=t<0,a=n?e.length:0,u=Df(0,a,this.__views__),h=u.start,f=u.end,p=f-h,m=s?f:h-1,w=this.__iteratees__,C=w.length,E=0,x=ge(p,this.__takeCount__);if(!n||!s&&a==p&&x==p)return xa(e,this.__actions__);var S=[];e:for(;p--&&E<x;){m+=t;for(var N=-1,R=e[m];++N<C;){var U=w[N],B=U.iteratee,Te=U.type,Pe=B(R);if(Te==A)R=Pe;else if(!Pe){if(Te==v)continue e;break e}}S[E++]=R}return S}q.prototype=Yt(er.prototype),q.prototype.constructor=q;function St(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Ph(){this.__data__=_n?_n(null):{},this.size=0}function yh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ch(e){var t=this.__data__;if(_n){var n=t[e];return n===z?i:n}return J.call(t,e)?t[e]:i}function Ih(e){var t=this.__data__;return _n?t[e]!==i:J.call(t,e)}function Ah(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_n&&t===i?z:t,this}St.prototype.clear=Ph,St.prototype.delete=yh,St.prototype.get=Ch,St.prototype.has=Ih,St.prototype.set=Ah;function ot(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Eh(){this.__data__=[],this.size=0}function bh(e){var t=this.__data__,n=tr(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Zn.call(t,n,1),--this.size,!0}function xh(e){var t=this.__data__,n=tr(t,e);return n<0?i:t[n][1]}function Oh(e){return tr(this.__data__,e)>-1}function Sh(e,t){var n=this.__data__,s=tr(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}ot.prototype.clear=Eh,ot.prototype.delete=bh,ot.prototype.get=xh,ot.prototype.has=Oh,ot.prototype.set=Sh;function ut(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Rh(){this.size=0,this.__data__={hash:new St,map:new(gn||ot),string:new St}}function Th(e){var t=pr(this,e).delete(e);return this.size-=t?1:0,t}function Dh(e){return pr(this,e).get(e)}function Lh(e){return pr(this,e).has(e)}function $h(e,t){var n=pr(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}ut.prototype.clear=Rh,ut.prototype.delete=Th,ut.prototype.get=Dh,ut.prototype.has=Lh,ut.prototype.set=$h;function Rt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ut;++t<n;)this.add(e[t])}function Hh(e){return this.__data__.set(e,z),this}function Nh(e){return this.__data__.has(e)}Rt.prototype.add=Rt.prototype.push=Hh,Rt.prototype.has=Nh;function Xe(e){var t=this.__data__=new ot(e);this.size=t.size}function Mh(){this.__data__=new ot,this.size=0}function Uh(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function qh(e){return this.__data__.get(e)}function Bh(e){return this.__data__.has(e)}function Fh(e,t){var n=this.__data__;if(n instanceof ot){var s=n.__data__;if(!gn||s.length<d-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new ut(s)}return n.set(e,t),this.size=n.size,this}Xe.prototype.clear=Mh,Xe.prototype.delete=Uh,Xe.prototype.get=qh,Xe.prototype.has=Bh,Xe.prototype.set=Fh;function ia(e,t){var n=L(e),s=!n&&Ht(e),a=!n&&!s&&bt(e),u=!n&&!s&&!a&&Vt(e),h=n||s||a||u,f=h?ei(e.length,Vc):[],p=f.length;for(var m in e)(t||J.call(e,m))&&!(h&&(m=="length"||a&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||lt(m,p)))&&f.push(m);return f}function sa(e){var t=e.length;return t?e[_i(0,t-1)]:i}function Wh(e,t){return dr(ye(e),Tt(t,0,e.length))}function Gh(e){return dr(ye(e))}function oi(e,t,n){(n!==i&&!Qe(e[t],n)||n===i&&!(t in e))&&ct(e,t,n)}function wn(e,t,n){var s=e[t];(!(J.call(e,t)&&Qe(s,n))||n===i&&!(t in e))&&ct(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(Qe(e[n][0],t))return n;return-1}function zh(e,t,n,s){return Ct(e,function(a,u,h){t(s,a,n(a),h)}),s}function aa(e,t){return e&&tt(t,ce(t),e)}function Kh(e,t){return e&&tt(t,Ie(t),e)}function ct(e,t,n){t=="__proto__"&&Xn?Xn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ui(e,t){for(var n=-1,s=t.length,a=g(s),u=e==null;++n<s;)a[n]=u?i:Wi(e,t[n]);return a}function Tt(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Be(e,t,n,s,a,u){var h,f=t&se,p=t&pe,m=t&ue;if(n&&(h=a?n(e,s,a,u):n(e)),h!==i)return h;if(!ee(e))return e;var w=L(e);if(w){if(h=$f(e),!f)return ye(e,h)}else{var C=ve(e),E=C==Ln||C==us;if(bt(e))return Ra(e,f);if(C==at||C==Mt||E&&!a){if(h=p||E?{}:Xa(e),!f)return p?If(e,Kh(h,e)):Cf(e,aa(h,e))}else{if(!Q[C])return a?e:{};h=Hf(e,C,f)}}u||(u=new Xe);var x=u.get(e);if(x)return x;u.set(e,h),Eo(e)?e.forEach(function(R){h.add(Be(R,t,n,R,e,u))}):Io(e)&&e.forEach(function(R,U){h.set(U,Be(R,t,n,U,e,u))});var S=m?p?Oi:xi:p?Ie:ce,N=w?i:S(e);return Me(N||e,function(R,U){N&&(U=R,R=e[U]),wn(h,U,Be(R,t,n,U,e,u))}),h}function Jh(e){var t=ce(e);return function(n){return oa(n,e,t)}}function oa(e,t,n){var s=n.length;if(e==null)return!s;for(e=Y(e);s--;){var a=n[s],u=t[a],h=e[a];if(h===i&&!(a in e)||!u(h))return!1}return!0}function ua(e,t,n){if(typeof e!="function")throw new Ue(I);return bn(function(){e.apply(i,n)},t)}function Pn(e,t,n,s){var a=-1,u=Un,h=!0,f=e.length,p=[],m=t.length;if(!f)return p;n&&(t=j(t,Oe(n))),s?(u=Zr,h=!1):t.length>=d&&(u=pn,h=!1,t=new Rt(t));e:for(;++a<f;){var w=e[a],C=n==null?w:n(w);if(w=s||w!==0?w:0,h&&C===C){for(var E=m;E--;)if(t[E]===C)continue e;p.push(w)}else u(t,C,s)||p.push(w)}return p}var Ct=Ha(et),ca=Ha(hi,!0);function Yh(e,t){var n=!0;return Ct(e,function(s,a,u){return n=!!t(s,a,u),n}),n}function nr(e,t,n){for(var s=-1,a=e.length;++s<a;){var u=e[s],h=t(u);if(h!=null&&(f===i?h===h&&!Re(h):n(h,f)))var f=h,p=u}return p}function Zh(e,t,n,s){var a=e.length;for(n=$(n),n<0&&(n=-n>a?0:a+n),s=s===i||s>a?a:$(s),s<0&&(s+=a),s=n>s?0:xo(s);n<s;)e[n++]=t;return e}function ha(e,t){var n=[];return Ct(e,function(s,a,u){t(s,a,u)&&n.push(s)}),n}function fe(e,t,n,s,a){var u=-1,h=e.length;for(n||(n=Mf),a||(a=[]);++u<h;){var f=e[u];t>0&&n(f)?t>1?fe(f,t-1,n,s,a):wt(a,f):s||(a[a.length]=f)}return a}var ci=Na(),fa=Na(!0);function et(e,t){return e&&ci(e,t,ce)}function hi(e,t){return e&&fa(e,t,ce)}function rr(e,t){return mt(t,function(n){return pt(e[n])})}function Dt(e,t){t=At(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[nt(t[n++])];return n&&n==s?e:i}function la(e,t,n){var s=t(e);return L(e)?s:wt(s,n(e))}function me(e){return e==null?e===i?Iu:yu:Ot&&Ot in Y(e)?Tf(e):zf(e)}function fi(e,t){return e>t}function Xh(e,t){return e!=null&&J.call(e,t)}function Qh(e,t){return e!=null&&t in Y(e)}function Vh(e,t,n){return e>=ge(t,n)&&e<oe(t,n)}function li(e,t,n){for(var s=n?Zr:Un,a=e[0].length,u=e.length,h=u,f=g(u),p=1/0,m=[];h--;){var w=e[h];h&&t&&(w=j(w,Oe(t))),p=ge(w.length,p),f[h]=!n&&(t||a>=120&&w.length>=120)?new Rt(h&&w):i}w=e[0];var C=-1,E=f[0];e:for(;++C<a&&m.length<p;){var x=w[C],S=t?t(x):x;if(x=n||x!==0?x:0,!(E?pn(E,S):s(m,S,n))){for(h=u;--h;){var N=f[h];if(!(N?pn(N,S):s(e[h],S,n)))continue e}E&&E.push(S),m.push(x)}}return m}function kh(e,t,n,s){return et(e,function(a,u,h){t(s,n(a),u,h)}),s}function yn(e,t,n){t=At(t,e),e=ja(e,t);var s=e==null?e:e[nt(We(t))];return s==null?i:xe(s,e,n)}function pa(e){return te(e)&&me(e)==Mt}function jh(e){return te(e)&&me(e)==ln}function ef(e){return te(e)&&me(e)==on}function Cn(e,t,n,s,a){return e===t?!0:e==null||t==null||!te(e)&&!te(t)?e!==e&&t!==t:tf(e,t,n,s,Cn,a)}function tf(e,t,n,s,a,u){var h=L(e),f=L(t),p=h?Tn:ve(e),m=f?Tn:ve(t);p=p==Mt?at:p,m=m==Mt?at:m;var w=p==at,C=m==at,E=p==m;if(E&&bt(e)){if(!bt(t))return!1;h=!0,w=!1}if(E&&!w)return u||(u=new Xe),h||Vt(e)?Ja(e,t,n,s,a,u):Sf(e,t,p,n,s,a,u);if(!(n&Z)){var x=w&&J.call(e,"__wrapped__"),S=C&&J.call(t,"__wrapped__");if(x||S){var N=x?e.value():e,R=S?t.value():t;return u||(u=new Xe),a(N,R,n,s,u)}}return E?(u||(u=new Xe),Rf(e,t,n,s,a,u)):!1}function nf(e){return te(e)&&ve(e)==Je}function pi(e,t,n,s){var a=n.length,u=a,h=!s;if(e==null)return!u;for(e=Y(e);a--;){var f=n[a];if(h&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++a<u;){f=n[a];var p=f[0],m=e[p],w=f[1];if(h&&f[2]){if(m===i&&!(p in e))return!1}else{var C=new Xe;if(s)var E=s(m,w,p,e,t,C);if(!(E===i?Cn(w,m,Z|vt,s,C):E))return!1}}return!0}function da(e){if(!ee(e)||qf(e))return!1;var t=pt(e)?nh:Ju;return t.test($t(e))}function rf(e){return te(e)&&me(e)==cn}function sf(e){return te(e)&&ve(e)==Ye}function af(e){return te(e)&&Pr(e.length)&&!!V[me(e)]}function ga(e){return typeof e=="function"?e:e==null?Ae:typeof e=="object"?L(e)?ma(e[0],e[1]):_a(e):Uo(e)}function di(e){if(!En(e))return uh(e);var t=[];for(var n in Y(e))J.call(e,n)&&n!="constructor"&&t.push(n);return t}function of(e){if(!ee(e))return Gf(e);var t=En(e),n=[];for(var s in e)s=="constructor"&&(t||!J.call(e,s))||n.push(s);return n}function gi(e,t){return e<t}function va(e,t){var n=-1,s=Ce(e)?g(e.length):[];return Ct(e,function(a,u,h){s[++n]=t(a,u,h)}),s}function _a(e){var t=Ri(e);return t.length==1&&t[0][2]?Va(t[0][0],t[0][1]):function(n){return n===e||pi(n,e,t)}}function ma(e,t){return Di(e)&&Qa(t)?Va(nt(e),t):function(n){var s=Wi(n,e);return s===i&&s===t?Gi(n,e):Cn(t,s,Z|vt)}}function ir(e,t,n,s,a){e!==t&&ci(t,function(u,h){if(a||(a=new Xe),ee(u))uf(e,t,h,n,ir,s,a);else{var f=s?s($i(e,h),u,h+"",e,t,a):i;f===i&&(f=u),oi(e,h,f)}},Ie)}function uf(e,t,n,s,a,u,h){var f=$i(e,n),p=$i(t,n),m=h.get(p);if(m){oi(e,n,m);return}var w=u?u(f,p,n+"",e,t,h):i,C=w===i;if(C){var E=L(p),x=!E&&bt(p),S=!E&&!x&&Vt(p);w=p,E||x||S?L(f)?w=f:re(f)?w=ye(f):x?(C=!1,w=Ra(p,!0)):S?(C=!1,w=Ta(p,!0)):w=[]:xn(p)||Ht(p)?(w=f,Ht(f)?w=Oo(f):(!ee(f)||pt(f))&&(w=Xa(p))):C=!1}C&&(h.set(p,w),a(w,p,s,u,h),h.delete(p)),oi(e,n,w)}function wa(e,t){var n=e.length;if(n)return t+=t<0?n:0,lt(t,n)?e[t]:i}function Pa(e,t,n){t.length?t=j(t,function(u){return L(u)?function(h){return Dt(h,u.length===1?u[0]:u)}:u}):t=[Ae];var s=-1;t=j(t,Oe(O()));var a=va(e,function(u,h,f){var p=j(t,function(m){return m(u)});return{criteria:p,index:++s,value:u}});return $c(a,function(u,h){return yf(u,h,n)})}function cf(e,t){return ya(e,t,function(n,s){return Gi(e,s)})}function ya(e,t,n){for(var s=-1,a=t.length,u={};++s<a;){var h=t[s],f=Dt(e,h);n(f,h)&&In(u,At(h,e),f)}return u}function hf(e){return function(t){return Dt(t,e)}}function vi(e,t,n,s){var a=s?Lc:Bt,u=-1,h=t.length,f=e;for(e===t&&(t=ye(t)),n&&(f=j(e,Oe(n)));++u<h;)for(var p=0,m=t[u],w=n?n(m):m;(p=a(f,w,p,s))>-1;)f!==e&&Zn.call(f,p,1),Zn.call(e,p,1);return e}function Ca(e,t){for(var n=e?t.length:0,s=n-1;n--;){var a=t[n];if(n==s||a!==u){var u=a;lt(a)?Zn.call(e,a,1):Pi(e,a)}}return e}function _i(e,t){return e+Vn(na()*(t-e+1))}function ff(e,t,n,s){for(var a=-1,u=oe(Qn((t-e)/(n||1)),0),h=g(u);u--;)h[s?u:++a]=e,e+=n;return h}function mi(e,t){var n="";if(!e||t<1||t>X)return n;do t%2&&(n+=e),t=Vn(t/2),t&&(e+=e);while(t);return n}function M(e,t){return Hi(ka(e,t,Ae),e+"")}function lf(e){return sa(kt(e))}function pf(e,t){var n=kt(e);return dr(n,Tt(t,0,n.length))}function In(e,t,n,s){if(!ee(e))return e;t=At(t,e);for(var a=-1,u=t.length,h=u-1,f=e;f!=null&&++a<u;){var p=nt(t[a]),m=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(a!=h){var w=f[p];m=s?s(w,p,f):i,m===i&&(m=ee(w)?w:lt(t[a+1])?[]:{})}wn(f,p,m),f=f[p]}return e}var Ia=kn?function(e,t){return kn.set(e,t),e}:Ae,df=Xn?function(e,t){return Xn(e,"toString",{configurable:!0,enumerable:!1,value:Ki(t),writable:!0})}:Ae;function gf(e){return dr(kt(e))}function Fe(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var u=g(a);++s<a;)u[s]=e[s+t];return u}function vf(e,t){var n;return Ct(e,function(s,a,u){return n=t(s,a,u),!n}),!!n}function sr(e,t,n){var s=0,a=e==null?s:e.length;if(typeof t=="number"&&t===t&&a<=_u){for(;s<a;){var u=s+a>>>1,h=e[u];h!==null&&!Re(h)&&(n?h<=t:h<t)?s=u+1:a=u}return a}return wi(e,t,Ae,n)}function wi(e,t,n,s){var a=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var h=t!==t,f=t===null,p=Re(t),m=t===i;a<u;){var w=Vn((a+u)/2),C=n(e[w]),E=C!==i,x=C===null,S=C===C,N=Re(C);if(h)var R=s||S;else m?R=S&&(s||E):f?R=S&&E&&(s||!x):p?R=S&&E&&!x&&(s||!N):x||N?R=!1:R=s?C<=t:C<t;R?a=w+1:u=w}return ge(u,sn)}function Aa(e,t){for(var n=-1,s=e.length,a=0,u=[];++n<s;){var h=e[n],f=t?t(h):h;if(!n||!Qe(f,p)){var p=f;u[a++]=h===0?0:h}}return u}function Ea(e){return typeof e=="number"?e:Re(e)?st:+e}function Se(e){if(typeof e=="string")return e;if(L(e))return j(e,Se)+"";if(Re(e))return ra?ra.call(e):"";var t=e+"";return t=="0"&&1/e==-k?"-0":t}function It(e,t,n){var s=-1,a=Un,u=e.length,h=!0,f=[],p=f;if(n)h=!1,a=Zr;else if(u>=d){var m=t?null:xf(e);if(m)return Bn(m);h=!1,a=pn,p=new Rt}else p=t?[]:f;e:for(;++s<u;){var w=e[s],C=t?t(w):w;if(w=n||w!==0?w:0,h&&C===C){for(var E=p.length;E--;)if(p[E]===C)continue e;t&&p.push(C),f.push(w)}else a(p,C,n)||(p!==f&&p.push(C),f.push(w))}return f}function Pi(e,t){return t=At(t,e),e=ja(e,t),e==null||delete e[nt(We(t))]}function ba(e,t,n,s){return In(e,t,n(Dt(e,t)),s)}function ar(e,t,n,s){for(var a=e.length,u=s?a:-1;(s?u--:++u<a)&&t(e[u],u,e););return n?Fe(e,s?0:u,s?u+1:a):Fe(e,s?u+1:0,s?a:u)}function xa(e,t){var n=e;return n instanceof q&&(n=n.value()),Xr(t,function(s,a){return a.func.apply(a.thisArg,wt([s],a.args))},n)}function yi(e,t,n){var s=e.length;if(s<2)return s?It(e[0]):[];for(var a=-1,u=g(s);++a<s;)for(var h=e[a],f=-1;++f<s;)f!=a&&(u[a]=Pn(u[a]||h,e[f],t,n));return It(fe(u,1),t,n)}function Oa(e,t,n){for(var s=-1,a=e.length,u=t.length,h={};++s<a;){var f=s<u?t[s]:i;n(h,e[s],f)}return h}function Ci(e){return re(e)?e:[]}function Ii(e){return typeof e=="function"?e:Ae}function At(e,t){return L(e)?e:Di(e,t)?[e]:ro(G(e))}var _f=M;function Et(e,t,n){var s=e.length;return n=n===i?s:n,!t&&n>=s?e:Fe(e,t,n)}var Sa=rh||function(e){return he.clearTimeout(e)};function Ra(e,t){if(t)return e.slice();var n=e.length,s=Vs?Vs(n):new e.constructor(n);return e.copy(s),s}function Ai(e){var t=new e.constructor(e.byteLength);return new Jn(t).set(new Jn(e)),t}function mf(e,t){var n=t?Ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function wf(e){var t=new e.constructor(e.source,ps.exec(e));return t.lastIndex=e.lastIndex,t}function Pf(e){return mn?Y(mn.call(e)):{}}function Ta(e,t){var n=t?Ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Da(e,t){if(e!==t){var n=e!==i,s=e===null,a=e===e,u=Re(e),h=t!==i,f=t===null,p=t===t,m=Re(t);if(!f&&!m&&!u&&e>t||u&&h&&p&&!f&&!m||s&&h&&p||!n&&p||!a)return 1;if(!s&&!u&&!m&&e<t||m&&n&&a&&!s&&!u||f&&n&&a||!h&&a||!p)return-1}return 0}function yf(e,t,n){for(var s=-1,a=e.criteria,u=t.criteria,h=a.length,f=n.length;++s<h;){var p=Da(a[s],u[s]);if(p){if(s>=f)return p;var m=n[s];return p*(m=="desc"?-1:1)}}return e.index-t.index}function La(e,t,n,s){for(var a=-1,u=e.length,h=n.length,f=-1,p=t.length,m=oe(u-h,0),w=g(p+m),C=!s;++f<p;)w[f]=t[f];for(;++a<h;)(C||a<u)&&(w[n[a]]=e[a]);for(;m--;)w[f++]=e[a++];return w}function $a(e,t,n,s){for(var a=-1,u=e.length,h=-1,f=n.length,p=-1,m=t.length,w=oe(u-f,0),C=g(w+m),E=!s;++a<w;)C[a]=e[a];for(var x=a;++p<m;)C[x+p]=t[p];for(;++h<f;)(E||a<u)&&(C[x+n[h]]=e[a++]);return C}function ye(e,t){var n=-1,s=e.length;for(t||(t=g(s));++n<s;)t[n]=e[n];return t}function tt(e,t,n,s){var a=!n;n||(n={});for(var u=-1,h=t.length;++u<h;){var f=t[u],p=s?s(n[f],e[f],f,n,e):i;p===i&&(p=e[f]),a?ct(n,f,p):wn(n,f,p)}return n}function Cf(e,t){return tt(e,Ti(e),t)}function If(e,t){return tt(e,Ya(e),t)}function or(e,t){return function(n,s){var a=L(n)?xc:zh,u=t?t():{};return a(n,e,O(s,2),u)}}function Zt(e){return M(function(t,n){var s=-1,a=n.length,u=a>1?n[a-1]:i,h=a>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(a--,u):i,h&&we(n[0],n[1],h)&&(u=a<3?i:u,a=1),t=Y(t);++s<a;){var f=n[s];f&&e(t,f,s,u)}return t})}function Ha(e,t){return function(n,s){if(n==null)return n;if(!Ce(n))return e(n,s);for(var a=n.length,u=t?a:-1,h=Y(n);(t?u--:++u<a)&&s(h[u],u,h)!==!1;);return n}}function Na(e){return function(t,n,s){for(var a=-1,u=Y(t),h=s(t),f=h.length;f--;){var p=h[e?f:++a];if(n(u[p],p,u)===!1)break}return t}}function Af(e,t,n){var s=t&_e,a=An(e);function u(){var h=this&&this!==he&&this instanceof u?a:e;return h.apply(s?n:this,arguments)}return u}function Ma(e){return function(t){t=G(t);var n=Ft(t)?Ze(t):i,s=n?n[0]:t.charAt(0),a=n?Et(n,1).join(""):t.slice(1);return s[e]()+a}}function Xt(e){return function(t){return Xr(No(Ho(t).replace(pc,"")),e,"")}}function An(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Yt(e.prototype),s=e.apply(n,t);return ee(s)?s:n}}function Ef(e,t,n){var s=An(e);function a(){for(var u=arguments.length,h=g(u),f=u,p=Qt(a);f--;)h[f]=arguments[f];var m=u<3&&h[0]!==p&&h[u-1]!==p?[]:Pt(h,p);if(u-=m.length,u<n)return Wa(e,t,ur,a.placeholder,i,h,m,i,i,n-u);var w=this&&this!==he&&this instanceof a?s:e;return xe(w,this,h)}return a}function Ua(e){return function(t,n,s){var a=Y(t);if(!Ce(t)){var u=O(n,3);t=ce(t),n=function(f){return u(a[f],f,a)}}var h=e(t,n,s);return h>-1?a[u?t[h]:h]:i}}function qa(e){return ft(function(t){var n=t.length,s=n,a=qe.prototype.thru;for(e&&t.reverse();s--;){var u=t[s];if(typeof u!="function")throw new Ue(I);if(a&&!h&&lr(u)=="wrapper")var h=new qe([],!0)}for(s=h?s:n;++s<n;){u=t[s];var f=lr(u),p=f=="wrapper"?Si(u):i;p&&Li(p[0])&&p[1]==(Ke|$e|Ee|be)&&!p[4].length&&p[9]==1?h=h[lr(p[0])].apply(h,p[3]):h=u.length==1&&Li(u)?h[f]():h.thru(u)}return function(){var m=arguments,w=m[0];if(h&&m.length==1&&L(w))return h.plant(w).value();for(var C=0,E=n?t[C].apply(this,m):w;++C<n;)E=t[C].call(this,E);return E}})}function ur(e,t,n,s,a,u,h,f,p,m){var w=t&Ke,C=t&_e,E=t&rt,x=t&($e|it),S=t&nn,N=E?i:An(e);function R(){for(var U=arguments.length,B=g(U),Te=U;Te--;)B[Te]=arguments[Te];if(x)var Pe=Qt(R),De=Nc(B,Pe);if(s&&(B=La(B,s,a,x)),u&&(B=$a(B,u,h,x)),U-=De,x&&U<m){var ie=Pt(B,Pe);return Wa(e,t,ur,R.placeholder,n,B,ie,f,p,m-U)}var Ve=C?n:this,gt=E?Ve[e]:e;return U=B.length,f?B=Kf(B,f):S&&U>1&&B.reverse(),w&&p<U&&(B.length=p),this&&this!==he&&this instanceof R&&(gt=N||An(gt)),gt.apply(Ve,B)}return R}function Ba(e,t){return function(n,s){return kh(n,e,t(s),{})}}function cr(e,t){return function(n,s){var a;if(n===i&&s===i)return t;if(n!==i&&(a=n),s!==i){if(a===i)return s;typeof n=="string"||typeof s=="string"?(n=Se(n),s=Se(s)):(n=Ea(n),s=Ea(s)),a=e(n,s)}return a}}function Ei(e){return ft(function(t){return t=j(t,Oe(O())),M(function(n){var s=this;return e(t,function(a){return xe(a,s,n)})})})}function hr(e,t){t=t===i?" ":Se(t);var n=t.length;if(n<2)return n?mi(t,e):t;var s=mi(t,Qn(e/Wt(t)));return Ft(t)?Et(Ze(s),0,e).join(""):s.slice(0,e)}function bf(e,t,n,s){var a=t&_e,u=An(e);function h(){for(var f=-1,p=arguments.length,m=-1,w=s.length,C=g(w+p),E=this&&this!==he&&this instanceof h?u:e;++m<w;)C[m]=s[m];for(;p--;)C[m++]=arguments[++f];return xe(E,a?n:this,C)}return h}function Fa(e){return function(t,n,s){return s&&typeof s!="number"&&we(t,n,s)&&(n=s=i),t=dt(t),n===i?(n=t,t=0):n=dt(n),s=s===i?t<n?1:-1:dt(s),ff(t,n,s,e)}}function fr(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ge(t),n=Ge(n)),e(t,n)}}function Wa(e,t,n,s,a,u,h,f,p,m){var w=t&$e,C=w?h:i,E=w?i:h,x=w?u:i,S=w?i:u;t|=w?Ee:_t,t&=~(w?_t:Ee),t&Rn||(t&=~(_e|rt));var N=[e,t,a,x,C,S,E,f,p,m],R=n.apply(i,N);return Li(e)&&eo(R,N),R.placeholder=s,to(R,e,t)}function bi(e){var t=ae[e];return function(n,s){if(n=Ge(n),s=s==null?0:ge($(s),292),s&&ta(n)){var a=(G(n)+"e").split("e"),u=t(a[0]+"e"+(+a[1]+s));return a=(G(u)+"e").split("e"),+(a[0]+"e"+(+a[1]-s))}return t(n)}}var xf=Kt&&1/Bn(new Kt([,-0]))[1]==k?function(e){return new Kt(e)}:Zi;function Ga(e){return function(t){var n=ve(t);return n==Je?ni(t):n==Ye?Gc(t):Hc(t,e(t))}}function ht(e,t,n,s,a,u,h,f){var p=t&rt;if(!p&&typeof e!="function")throw new Ue(I);var m=s?s.length:0;if(m||(t&=~(Ee|_t),s=a=i),h=h===i?h:oe($(h),0),f=f===i?f:$(f),m-=a?a.length:0,t&_t){var w=s,C=a;s=a=i}var E=p?i:Si(e),x=[e,t,n,s,a,w,C,u,h,f];if(E&&Wf(x,E),e=x[0],t=x[1],n=x[2],s=x[3],a=x[4],f=x[9]=x[9]===i?p?0:e.length:oe(x[9]-m,0),!f&&t&($e|it)&&(t&=~($e|it)),!t||t==_e)var S=Af(e,t,n);else t==$e||t==it?S=Ef(e,t,f):(t==Ee||t==(_e|Ee))&&!a.length?S=bf(e,t,n,s):S=ur.apply(i,x);var N=E?Ia:eo;return to(N(S,x),e,t)}function za(e,t,n,s){return e===i||Qe(e,zt[n])&&!J.call(s,n)?t:e}function Ka(e,t,n,s,a,u){return ee(e)&&ee(t)&&(u.set(t,e),ir(e,t,i,Ka,u),u.delete(t)),e}function Of(e){return xn(e)?i:e}function Ja(e,t,n,s,a,u){var h=n&Z,f=e.length,p=t.length;if(f!=p&&!(h&&p>f))return!1;var m=u.get(e),w=u.get(t);if(m&&w)return m==t&&w==e;var C=-1,E=!0,x=n&vt?new Rt:i;for(u.set(e,t),u.set(t,e);++C<f;){var S=e[C],N=t[C];if(s)var R=h?s(N,S,C,t,e,u):s(S,N,C,e,t,u);if(R!==i){if(R)continue;E=!1;break}if(x){if(!Qr(t,function(U,B){if(!pn(x,B)&&(S===U||a(S,U,n,s,u)))return x.push(B)})){E=!1;break}}else if(!(S===N||a(S,N,n,s,u))){E=!1;break}}return u.delete(e),u.delete(t),E}function Sf(e,t,n,s,a,u,h){switch(n){case Ut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ln:return!(e.byteLength!=t.byteLength||!u(new Jn(e),new Jn(t)));case an:case on:case un:return Qe(+e,+t);case Dn:return e.name==t.name&&e.message==t.message;case cn:case hn:return e==t+"";case Je:var f=ni;case Ye:var p=s&Z;if(f||(f=Bn),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;s|=vt,h.set(e,t);var w=Ja(f(e),f(t),s,a,u,h);return h.delete(e),w;case $n:if(mn)return mn.call(e)==mn.call(t)}return!1}function Rf(e,t,n,s,a,u){var h=n&Z,f=xi(e),p=f.length,m=xi(t),w=m.length;if(p!=w&&!h)return!1;for(var C=p;C--;){var E=f[C];if(!(h?E in t:J.call(t,E)))return!1}var x=u.get(e),S=u.get(t);if(x&&S)return x==t&&S==e;var N=!0;u.set(e,t),u.set(t,e);for(var R=h;++C<p;){E=f[C];var U=e[E],B=t[E];if(s)var Te=h?s(B,U,E,t,e,u):s(U,B,E,e,t,u);if(!(Te===i?U===B||a(U,B,n,s,u):Te)){N=!1;break}R||(R=E=="constructor")}if(N&&!R){var Pe=e.constructor,De=t.constructor;Pe!=De&&"constructor"in e&&"constructor"in t&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof De=="function"&&De instanceof De)&&(N=!1)}return u.delete(e),u.delete(t),N}function ft(e){return Hi(ka(e,i,oo),e+"")}function xi(e){return la(e,ce,Ti)}function Oi(e){return la(e,Ie,Ya)}var Si=kn?function(e){return kn.get(e)}:Zi;function lr(e){for(var t=e.name+"",n=Jt[t],s=J.call(Jt,t)?n.length:0;s--;){var a=n[s],u=a.func;if(u==null||u==e)return a.name}return t}function Qt(e){var t=J.call(o,"placeholder")?o:e;return t.placeholder}function O(){var e=o.iteratee||Ji;return e=e===Ji?ga:e,arguments.length?e(arguments[0],arguments[1]):e}function pr(e,t){var n=e.__data__;return Uf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ri(e){for(var t=ce(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,Qa(a)]}return t}function Lt(e,t){var n=Bc(e,t);return da(n)?n:i}function Tf(e){var t=J.call(e,Ot),n=e[Ot];try{e[Ot]=i;var s=!0}catch{}var a=zn.call(e);return s&&(t?e[Ot]=n:delete e[Ot]),a}var Ti=ii?function(e){return e==null?[]:(e=Y(e),mt(ii(e),function(t){return js.call(e,t)}))}:Xi,Ya=ii?function(e){for(var t=[];e;)wt(t,Ti(e)),e=Yn(e);return t}:Xi,ve=me;(si&&ve(new si(new ArrayBuffer(1)))!=Ut||gn&&ve(new gn)!=Je||ai&&ve(ai.resolve())!=cs||Kt&&ve(new Kt)!=Ye||vn&&ve(new vn)!=fn)&&(ve=function(e){var t=me(e),n=t==at?e.constructor:i,s=n?$t(n):"";if(s)switch(s){case lh:return Ut;case ph:return Je;case dh:return cs;case gh:return Ye;case vh:return fn}return t});function Df(e,t,n){for(var s=-1,a=n.length;++s<a;){var u=n[s],h=u.size;switch(u.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=ge(t,e+h);break;case"takeRight":e=oe(e,t-h);break}}return{start:e,end:t}}function Lf(e){var t=e.match(Uu);return t?t[1].split(qu):[]}function Za(e,t,n){t=At(t,e);for(var s=-1,a=t.length,u=!1;++s<a;){var h=nt(t[s]);if(!(u=e!=null&&n(e,h)))break;e=e[h]}return u||++s!=a?u:(a=e==null?0:e.length,!!a&&Pr(a)&&lt(h,a)&&(L(e)||Ht(e)))}function $f(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&J.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Xa(e){return typeof e.constructor=="function"&&!En(e)?Yt(Yn(e)):{}}function Hf(e,t,n){var s=e.constructor;switch(t){case ln:return Ai(e);case an:case on:return new s(+e);case Ut:return mf(e,n);case Rr:case Tr:case Dr:case Lr:case $r:case Hr:case Nr:case Mr:case Ur:return Ta(e,n);case Je:return new s;case un:case hn:return new s(e);case cn:return wf(e);case Ye:return new s;case $n:return Pf(e)}}function Nf(e,t){var n=t.length;if(!n)return e;var s=n-1;return t[s]=(n>1?"& ":"")+t[s],t=t.join(n>2?", ":" "),e.replace(Mu,`{
/* [wrapped with `+t+`] */
`)}function Mf(e){return L(e)||Ht(e)||!!(ea&&e&&e[ea])}function lt(e,t){var n=typeof e;return t=t??X,!!t&&(n=="number"||n!="symbol"&&Zu.test(e))&&e>-1&&e%1==0&&e<t}function we(e,t,n){if(!ee(n))return!1;var s=typeof t;return(s=="number"?Ce(n)&&lt(t,n.length):s=="string"&&t in n)?Qe(n[t],e):!1}function Di(e,t){if(L(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Re(e)?!0:Lu.test(e)||!Du.test(e)||t!=null&&e in Y(t)}function Uf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Li(e){var t=lr(e),n=o[t];if(typeof n!="function"||!(t in q.prototype))return!1;if(e===n)return!0;var s=Si(n);return!!s&&e===s[0]}function qf(e){return!!Qs&&Qs in e}var Bf=Wn?pt:Qi;function En(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||zt;return e===n}function Qa(e){return e===e&&!ee(e)}function Va(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Y(n))}}function Ff(e){var t=mr(e,function(s){return n.size===ne&&n.clear(),s}),n=t.cache;return t}function Wf(e,t){var n=e[1],s=t[1],a=n|s,u=a<(_e|rt|Ke),h=s==Ke&&n==$e||s==Ke&&n==be&&e[7].length<=t[8]||s==(Ke|be)&&t[7].length<=t[8]&&n==$e;if(!(u||h))return e;s&_e&&(e[2]=t[2],a|=n&_e?0:Rn);var f=t[3];if(f){var p=e[3];e[3]=p?La(p,f,t[4]):f,e[4]=p?Pt(e[3],le):t[4]}return f=t[5],f&&(p=e[5],e[5]=p?$a(p,f,t[6]):f,e[6]=p?Pt(e[5],le):t[6]),f=t[7],f&&(e[7]=f),s&Ke&&(e[8]=e[8]==null?t[8]:ge(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function Gf(e){var t=[];if(e!=null)for(var n in Y(e))t.push(n);return t}function zf(e){return zn.call(e)}function ka(e,t,n){return t=oe(t===i?e.length-1:t,0),function(){for(var s=arguments,a=-1,u=oe(s.length-t,0),h=g(u);++a<u;)h[a]=s[t+a];a=-1;for(var f=g(t+1);++a<t;)f[a]=s[a];return f[t]=n(h),xe(e,this,f)}}function ja(e,t){return t.length<2?e:Dt(e,Fe(t,0,-1))}function Kf(e,t){for(var n=e.length,s=ge(t.length,n),a=ye(e);s--;){var u=t[s];e[s]=lt(u,n)?a[u]:i}return e}function $i(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var eo=no(Ia),bn=sh||function(e,t){return he.setTimeout(e,t)},Hi=no(df);function to(e,t,n){var s=t+"";return Hi(e,Nf(s,Jf(Lf(s),n)))}function no(e){var t=0,n=0;return function(){var s=ch(),a=rn-(s-n);if(n=s,a>0){if(++t>=Sr)return arguments[0]}else t=0;return e.apply(i,arguments)}}function dr(e,t){var n=-1,s=e.length,a=s-1;for(t=t===i?s:t;++n<t;){var u=_i(n,a),h=e[u];e[u]=e[n],e[n]=h}return e.length=t,e}var ro=Ff(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($u,function(n,s,a,u){t.push(a?u.replace(Wu,"$1"):s||n)}),t});function nt(e){if(typeof e=="string"||Re(e))return e;var t=e+"";return t=="0"&&1/e==-k?"-0":t}function $t(e){if(e!=null){try{return Gn.call(e)}catch{}try{return e+""}catch{}}return""}function Jf(e,t){return Me(mu,function(n){var s="_."+n[0];t&n[1]&&!Un(e,s)&&e.push(s)}),e.sort()}function io(e){if(e instanceof q)return e.clone();var t=new qe(e.__wrapped__,e.__chain__);return t.__actions__=ye(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Yf(e,t,n){(n?we(e,t,n):t===i)?t=1:t=oe($(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var a=0,u=0,h=g(Qn(s/t));a<s;)h[u++]=Fe(e,a,a+=t);return h}function Zf(e){for(var t=-1,n=e==null?0:e.length,s=0,a=[];++t<n;){var u=e[t];u&&(a[s++]=u)}return a}function Xf(){var e=arguments.length;if(!e)return[];for(var t=g(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return wt(L(n)?ye(n):[n],fe(t,1))}var Qf=M(function(e,t){return re(e)?Pn(e,fe(t,1,re,!0)):[]}),Vf=M(function(e,t){var n=We(t);return re(n)&&(n=i),re(e)?Pn(e,fe(t,1,re,!0),O(n,2)):[]}),kf=M(function(e,t){var n=We(t);return re(n)&&(n=i),re(e)?Pn(e,fe(t,1,re,!0),i,n):[]});function jf(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:$(t),Fe(e,t<0?0:t,s)):[]}function el(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:$(t),t=s-t,Fe(e,0,t<0?0:t)):[]}function tl(e,t){return e&&e.length?ar(e,O(t,3),!0,!0):[]}function nl(e,t){return e&&e.length?ar(e,O(t,3),!0):[]}function rl(e,t,n,s){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&we(e,t,n)&&(n=0,s=a),Zh(e,t,n,s)):[]}function so(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:$(n);return a<0&&(a=oe(s+a,0)),qn(e,O(t,3),a)}function ao(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=s-1;return n!==i&&(a=$(n),a=n<0?oe(s+a,0):ge(a,s-1)),qn(e,O(t,3),a,!0)}function oo(e){var t=e==null?0:e.length;return t?fe(e,1):[]}function il(e){var t=e==null?0:e.length;return t?fe(e,k):[]}function sl(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:$(t),fe(e,t)):[]}function al(e){for(var t=-1,n=e==null?0:e.length,s={};++t<n;){var a=e[t];s[a[0]]=a[1]}return s}function uo(e){return e&&e.length?e[0]:i}function ol(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:$(n);return a<0&&(a=oe(s+a,0)),Bt(e,t,a)}function ul(e){var t=e==null?0:e.length;return t?Fe(e,0,-1):[]}var cl=M(function(e){var t=j(e,Ci);return t.length&&t[0]===e[0]?li(t):[]}),hl=M(function(e){var t=We(e),n=j(e,Ci);return t===We(n)?t=i:n.pop(),n.length&&n[0]===e[0]?li(n,O(t,2)):[]}),fl=M(function(e){var t=We(e),n=j(e,Ci);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?li(n,i,t):[]});function ll(e,t){return e==null?"":oh.call(e,t)}function We(e){var t=e==null?0:e.length;return t?e[t-1]:i}function pl(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=s;return n!==i&&(a=$(n),a=a<0?oe(s+a,0):ge(a,s-1)),t===t?Kc(e,t,a):qn(e,Ws,a,!0)}function dl(e,t){return e&&e.length?wa(e,$(t)):i}var gl=M(co);function co(e,t){return e&&e.length&&t&&t.length?vi(e,t):e}function vl(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,O(n,2)):e}function _l(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,i,n):e}var ml=ft(function(e,t){var n=e==null?0:e.length,s=ui(e,t);return Ca(e,j(t,function(a){return lt(a,n)?+a:a}).sort(Da)),s});function wl(e,t){var n=[];if(!(e&&e.length))return n;var s=-1,a=[],u=e.length;for(t=O(t,3);++s<u;){var h=e[s];t(h,s,e)&&(n.push(h),a.push(s))}return Ca(e,a),n}function Ni(e){return e==null?e:fh.call(e)}function Pl(e,t,n){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&we(e,t,n)?(t=0,n=s):(t=t==null?0:$(t),n=n===i?s:$(n)),Fe(e,t,n)):[]}function yl(e,t){return sr(e,t)}function Cl(e,t,n){return wi(e,t,O(n,2))}function Il(e,t){var n=e==null?0:e.length;if(n){var s=sr(e,t);if(s<n&&Qe(e[s],t))return s}return-1}function Al(e,t){return sr(e,t,!0)}function El(e,t,n){return wi(e,t,O(n,2),!0)}function bl(e,t){var n=e==null?0:e.length;if(n){var s=sr(e,t,!0)-1;if(Qe(e[s],t))return s}return-1}function xl(e){return e&&e.length?Aa(e):[]}function Ol(e,t){return e&&e.length?Aa(e,O(t,2)):[]}function Sl(e){var t=e==null?0:e.length;return t?Fe(e,1,t):[]}function Rl(e,t,n){return e&&e.length?(t=n||t===i?1:$(t),Fe(e,0,t<0?0:t)):[]}function Tl(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:$(t),t=s-t,Fe(e,t<0?0:t,s)):[]}function Dl(e,t){return e&&e.length?ar(e,O(t,3),!1,!0):[]}function Ll(e,t){return e&&e.length?ar(e,O(t,3)):[]}var $l=M(function(e){return It(fe(e,1,re,!0))}),Hl=M(function(e){var t=We(e);return re(t)&&(t=i),It(fe(e,1,re,!0),O(t,2))}),Nl=M(function(e){var t=We(e);return t=typeof t=="function"?t:i,It(fe(e,1,re,!0),i,t)});function Ml(e){return e&&e.length?It(e):[]}function Ul(e,t){return e&&e.length?It(e,O(t,2)):[]}function ql(e,t){return t=typeof t=="function"?t:i,e&&e.length?It(e,i,t):[]}function Mi(e){if(!(e&&e.length))return[];var t=0;return e=mt(e,function(n){if(re(n))return t=oe(n.length,t),!0}),ei(t,function(n){return j(e,Vr(n))})}function ho(e,t){if(!(e&&e.length))return[];var n=Mi(e);return t==null?n:j(n,function(s){return xe(t,i,s)})}var Bl=M(function(e,t){return re(e)?Pn(e,t):[]}),Fl=M(function(e){return yi(mt(e,re))}),Wl=M(function(e){var t=We(e);return re(t)&&(t=i),yi(mt(e,re),O(t,2))}),Gl=M(function(e){var t=We(e);return t=typeof t=="function"?t:i,yi(mt(e,re),i,t)}),zl=M(Mi);function Kl(e,t){return Oa(e||[],t||[],wn)}function Jl(e,t){return Oa(e||[],t||[],In)}var Yl=M(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,ho(e,n)});function fo(e){var t=o(e);return t.__chain__=!0,t}function Zl(e,t){return t(e),e}function gr(e,t){return t(e)}var Xl=ft(function(e){var t=e.length,n=t?e[0]:0,s=this.__wrapped__,a=function(u){return ui(u,e)};return t>1||this.__actions__.length||!(s instanceof q)||!lt(n)?this.thru(a):(s=s.slice(n,+n+(t?1:0)),s.__actions__.push({func:gr,args:[a],thisArg:i}),new qe(s,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function Ql(){return fo(this)}function Vl(){return new qe(this.value(),this.__chain__)}function kl(){this.__values__===i&&(this.__values__=bo(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function jl(){return this}function ep(e){for(var t,n=this;n instanceof er;){var s=io(n);s.__index__=0,s.__values__=i,t?a.__wrapped__=s:t=s;var a=s;n=n.__wrapped__}return a.__wrapped__=e,t}function tp(){var e=this.__wrapped__;if(e instanceof q){var t=e;return this.__actions__.length&&(t=new q(this)),t=t.reverse(),t.__actions__.push({func:gr,args:[Ni],thisArg:i}),new qe(t,this.__chain__)}return this.thru(Ni)}function np(){return xa(this.__wrapped__,this.__actions__)}var rp=or(function(e,t,n){J.call(e,n)?++e[n]:ct(e,n,1)});function ip(e,t,n){var s=L(e)?Bs:Yh;return n&&we(e,t,n)&&(t=i),s(e,O(t,3))}function sp(e,t){var n=L(e)?mt:ha;return n(e,O(t,3))}var ap=Ua(so),op=Ua(ao);function up(e,t){return fe(vr(e,t),1)}function cp(e,t){return fe(vr(e,t),k)}function hp(e,t,n){return n=n===i?1:$(n),fe(vr(e,t),n)}function lo(e,t){var n=L(e)?Me:Ct;return n(e,O(t,3))}function po(e,t){var n=L(e)?Oc:ca;return n(e,O(t,3))}var fp=or(function(e,t,n){J.call(e,n)?e[n].push(t):ct(e,n,[t])});function lp(e,t,n,s){e=Ce(e)?e:kt(e),n=n&&!s?$(n):0;var a=e.length;return n<0&&(n=oe(a+n,0)),yr(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Bt(e,t,n)>-1}var pp=M(function(e,t,n){var s=-1,a=typeof t=="function",u=Ce(e)?g(e.length):[];return Ct(e,function(h){u[++s]=a?xe(t,h,n):yn(h,t,n)}),u}),dp=or(function(e,t,n){ct(e,n,t)});function vr(e,t){var n=L(e)?j:va;return n(e,O(t,3))}function gp(e,t,n,s){return e==null?[]:(L(t)||(t=t==null?[]:[t]),n=s?i:n,L(n)||(n=n==null?[]:[n]),Pa(e,t,n))}var vp=or(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function _p(e,t,n){var s=L(e)?Xr:zs,a=arguments.length<3;return s(e,O(t,4),n,a,Ct)}function mp(e,t,n){var s=L(e)?Sc:zs,a=arguments.length<3;return s(e,O(t,4),n,a,ca)}function wp(e,t){var n=L(e)?mt:ha;return n(e,wr(O(t,3)))}function Pp(e){var t=L(e)?sa:lf;return t(e)}function yp(e,t,n){(n?we(e,t,n):t===i)?t=1:t=$(t);var s=L(e)?Wh:pf;return s(e,t)}function Cp(e){var t=L(e)?Gh:gf;return t(e)}function Ip(e){if(e==null)return 0;if(Ce(e))return yr(e)?Wt(e):e.length;var t=ve(e);return t==Je||t==Ye?e.size:di(e).length}function Ap(e,t,n){var s=L(e)?Qr:vf;return n&&we(e,t,n)&&(t=i),s(e,O(t,3))}var Ep=M(function(e,t){if(e==null)return[];var n=t.length;return n>1&&we(e,t[0],t[1])?t=[]:n>2&&we(t[0],t[1],t[2])&&(t=[t[0]]),Pa(e,fe(t,1),[])}),_r=ih||function(){return he.Date.now()};function bp(e,t){if(typeof t!="function")throw new Ue(I);return e=$(e),function(){if(--e<1)return t.apply(this,arguments)}}function go(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,ht(e,Ke,i,i,i,i,t)}function vo(e,t){var n;if(typeof t!="function")throw new Ue(I);return e=$(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ui=M(function(e,t,n){var s=_e;if(n.length){var a=Pt(n,Qt(Ui));s|=Ee}return ht(e,s,t,n,a)}),_o=M(function(e,t,n){var s=_e|rt;if(n.length){var a=Pt(n,Qt(_o));s|=Ee}return ht(t,s,e,n,a)});function mo(e,t,n){t=n?i:t;var s=ht(e,$e,i,i,i,i,i,t);return s.placeholder=mo.placeholder,s}function wo(e,t,n){t=n?i:t;var s=ht(e,it,i,i,i,i,i,t);return s.placeholder=wo.placeholder,s}function Po(e,t,n){var s,a,u,h,f,p,m=0,w=!1,C=!1,E=!0;if(typeof e!="function")throw new Ue(I);t=Ge(t)||0,ee(n)&&(w=!!n.leading,C="maxWait"in n,u=C?oe(Ge(n.maxWait)||0,t):u,E="trailing"in n?!!n.trailing:E);function x(ie){var Ve=s,gt=a;return s=a=i,m=ie,h=e.apply(gt,Ve),h}function S(ie){return m=ie,f=bn(U,t),w?x(ie):h}function N(ie){var Ve=ie-p,gt=ie-m,qo=t-Ve;return C?ge(qo,u-gt):qo}function R(ie){var Ve=ie-p,gt=ie-m;return p===i||Ve>=t||Ve<0||C&&gt>=u}function U(){var ie=_r();if(R(ie))return B(ie);f=bn(U,N(ie))}function B(ie){return f=i,E&&s?x(ie):(s=a=i,h)}function Te(){f!==i&&Sa(f),m=0,s=p=a=f=i}function Pe(){return f===i?h:B(_r())}function De(){var ie=_r(),Ve=R(ie);if(s=arguments,a=this,p=ie,Ve){if(f===i)return S(p);if(C)return Sa(f),f=bn(U,t),x(p)}return f===i&&(f=bn(U,t)),h}return De.cancel=Te,De.flush=Pe,De}var xp=M(function(e,t){return ua(e,1,t)}),Op=M(function(e,t,n){return ua(e,Ge(t)||0,n)});function Sp(e){return ht(e,nn)}function mr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ue(I);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],u=n.cache;if(u.has(a))return u.get(a);var h=e.apply(this,s);return n.cache=u.set(a,h)||u,h};return n.cache=new(mr.Cache||ut),n}mr.Cache=ut;function wr(e){if(typeof e!="function")throw new Ue(I);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Rp(e){return vo(2,e)}var Tp=_f(function(e,t){t=t.length==1&&L(t[0])?j(t[0],Oe(O())):j(fe(t,1),Oe(O()));var n=t.length;return M(function(s){for(var a=-1,u=ge(s.length,n);++a<u;)s[a]=t[a].call(this,s[a]);return xe(e,this,s)})}),qi=M(function(e,t){var n=Pt(t,Qt(qi));return ht(e,Ee,i,t,n)}),yo=M(function(e,t){var n=Pt(t,Qt(yo));return ht(e,_t,i,t,n)}),Dp=ft(function(e,t){return ht(e,be,i,i,i,t)});function Lp(e,t){if(typeof e!="function")throw new Ue(I);return t=t===i?t:$(t),M(e,t)}function $p(e,t){if(typeof e!="function")throw new Ue(I);return t=t==null?0:oe($(t),0),M(function(n){var s=n[t],a=Et(n,0,t);return s&&wt(a,s),xe(e,this,a)})}function Hp(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new Ue(I);return ee(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Po(e,t,{leading:s,maxWait:t,trailing:a})}function Np(e){return go(e,1)}function Mp(e,t){return qi(Ii(t),e)}function Up(){if(!arguments.length)return[];var e=arguments[0];return L(e)?e:[e]}function qp(e){return Be(e,ue)}function Bp(e,t){return t=typeof t=="function"?t:i,Be(e,ue,t)}function Fp(e){return Be(e,se|ue)}function Wp(e,t){return t=typeof t=="function"?t:i,Be(e,se|ue,t)}function Gp(e,t){return t==null||oa(e,t,ce(t))}function Qe(e,t){return e===t||e!==e&&t!==t}var zp=fr(fi),Kp=fr(function(e,t){return e>=t}),Ht=pa(function(){return arguments}())?pa:function(e){return te(e)&&J.call(e,"callee")&&!js.call(e,"callee")},L=g.isArray,Jp=$s?Oe($s):jh;function Ce(e){return e!=null&&Pr(e.length)&&!pt(e)}function re(e){return te(e)&&Ce(e)}function Yp(e){return e===!0||e===!1||te(e)&&me(e)==an}var bt=ah||Qi,Zp=Hs?Oe(Hs):ef;function Xp(e){return te(e)&&e.nodeType===1&&!xn(e)}function Qp(e){if(e==null)return!0;if(Ce(e)&&(L(e)||typeof e=="string"||typeof e.splice=="function"||bt(e)||Vt(e)||Ht(e)))return!e.length;var t=ve(e);if(t==Je||t==Ye)return!e.size;if(En(e))return!di(e).length;for(var n in e)if(J.call(e,n))return!1;return!0}function Vp(e,t){return Cn(e,t)}function kp(e,t,n){n=typeof n=="function"?n:i;var s=n?n(e,t):i;return s===i?Cn(e,t,i,n):!!s}function Bi(e){if(!te(e))return!1;var t=me(e);return t==Dn||t==Pu||typeof e.message=="string"&&typeof e.name=="string"&&!xn(e)}function jp(e){return typeof e=="number"&&ta(e)}function pt(e){if(!ee(e))return!1;var t=me(e);return t==Ln||t==us||t==wu||t==Cu}function Co(e){return typeof e=="number"&&e==$(e)}function Pr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X}function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function te(e){return e!=null&&typeof e=="object"}var Io=Ns?Oe(Ns):nf;function ed(e,t){return e===t||pi(e,t,Ri(t))}function td(e,t,n){return n=typeof n=="function"?n:i,pi(e,t,Ri(t),n)}function nd(e){return Ao(e)&&e!=+e}function rd(e){if(Bf(e))throw new D(y);return da(e)}function id(e){return e===null}function sd(e){return e==null}function Ao(e){return typeof e=="number"||te(e)&&me(e)==un}function xn(e){if(!te(e)||me(e)!=at)return!1;var t=Yn(e);if(t===null)return!0;var n=J.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Gn.call(n)==eh}var Fi=Ms?Oe(Ms):rf;function ad(e){return Co(e)&&e>=-X&&e<=X}var Eo=Us?Oe(Us):sf;function yr(e){return typeof e=="string"||!L(e)&&te(e)&&me(e)==hn}function Re(e){return typeof e=="symbol"||te(e)&&me(e)==$n}var Vt=qs?Oe(qs):af;function od(e){return e===i}function ud(e){return te(e)&&ve(e)==fn}function cd(e){return te(e)&&me(e)==Au}var hd=fr(gi),fd=fr(function(e,t){return e<=t});function bo(e){if(!e)return[];if(Ce(e))return yr(e)?Ze(e):ye(e);if(dn&&e[dn])return Wc(e[dn]());var t=ve(e),n=t==Je?ni:t==Ye?Bn:kt;return n(e)}function dt(e){if(!e)return e===0?e:0;if(e=Ge(e),e===k||e===-k){var t=e<0?-1:1;return t*K}return e===e?e:0}function $(e){var t=dt(e),n=t%1;return t===t?n?t-n:t:0}function xo(e){return e?Tt($(e),0,de):0}function Ge(e){if(typeof e=="number")return e;if(Re(e))return st;if(ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ks(e);var n=Ku.test(e);return n||Yu.test(e)?Ec(e.slice(2),n?2:8):zu.test(e)?st:+e}function Oo(e){return tt(e,Ie(e))}function ld(e){return e?Tt($(e),-X,X):e===0?e:0}function G(e){return e==null?"":Se(e)}var pd=Zt(function(e,t){if(En(t)||Ce(t)){tt(t,ce(t),e);return}for(var n in t)J.call(t,n)&&wn(e,n,t[n])}),So=Zt(function(e,t){tt(t,Ie(t),e)}),Cr=Zt(function(e,t,n,s){tt(t,Ie(t),e,s)}),dd=Zt(function(e,t,n,s){tt(t,ce(t),e,s)}),gd=ft(ui);function vd(e,t){var n=Yt(e);return t==null?n:aa(n,t)}var _d=M(function(e,t){e=Y(e);var n=-1,s=t.length,a=s>2?t[2]:i;for(a&&we(t[0],t[1],a)&&(s=1);++n<s;)for(var u=t[n],h=Ie(u),f=-1,p=h.length;++f<p;){var m=h[f],w=e[m];(w===i||Qe(w,zt[m])&&!J.call(e,m))&&(e[m]=u[m])}return e}),md=M(function(e){return e.push(i,Ka),xe(Ro,i,e)});function wd(e,t){return Fs(e,O(t,3),et)}function Pd(e,t){return Fs(e,O(t,3),hi)}function yd(e,t){return e==null?e:ci(e,O(t,3),Ie)}function Cd(e,t){return e==null?e:fa(e,O(t,3),Ie)}function Id(e,t){return e&&et(e,O(t,3))}function Ad(e,t){return e&&hi(e,O(t,3))}function Ed(e){return e==null?[]:rr(e,ce(e))}function bd(e){return e==null?[]:rr(e,Ie(e))}function Wi(e,t,n){var s=e==null?i:Dt(e,t);return s===i?n:s}function xd(e,t){return e!=null&&Za(e,t,Xh)}function Gi(e,t){return e!=null&&Za(e,t,Qh)}var Od=Ba(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=zn.call(t)),e[t]=n},Ki(Ae)),Sd=Ba(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=zn.call(t)),J.call(e,t)?e[t].push(n):e[t]=[n]},O),Rd=M(yn);function ce(e){return Ce(e)?ia(e):di(e)}function Ie(e){return Ce(e)?ia(e,!0):of(e)}function Td(e,t){var n={};return t=O(t,3),et(e,function(s,a,u){ct(n,t(s,a,u),s)}),n}function Dd(e,t){var n={};return t=O(t,3),et(e,function(s,a,u){ct(n,a,t(s,a,u))}),n}var Ld=Zt(function(e,t,n){ir(e,t,n)}),Ro=Zt(function(e,t,n,s){ir(e,t,n,s)}),$d=ft(function(e,t){var n={};if(e==null)return n;var s=!1;t=j(t,function(u){return u=At(u,e),s||(s=u.length>1),u}),tt(e,Oi(e),n),s&&(n=Be(n,se|pe|ue,Of));for(var a=t.length;a--;)Pi(n,t[a]);return n});function Hd(e,t){return To(e,wr(O(t)))}var Nd=ft(function(e,t){return e==null?{}:cf(e,t)});function To(e,t){if(e==null)return{};var n=j(Oi(e),function(s){return[s]});return t=O(t),ya(e,n,function(s,a){return t(s,a[0])})}function Md(e,t,n){t=At(t,e);var s=-1,a=t.length;for(a||(a=1,e=i);++s<a;){var u=e==null?i:e[nt(t[s])];u===i&&(s=a,u=n),e=pt(u)?u.call(e):u}return e}function Ud(e,t,n){return e==null?e:In(e,t,n)}function qd(e,t,n,s){return s=typeof s=="function"?s:i,e==null?e:In(e,t,n,s)}var Do=Ga(ce),Lo=Ga(Ie);function Bd(e,t,n){var s=L(e),a=s||bt(e)||Vt(e);if(t=O(t,4),n==null){var u=e&&e.constructor;a?n=s?new u:[]:ee(e)?n=pt(u)?Yt(Yn(e)):{}:n={}}return(a?Me:et)(e,function(h,f,p){return t(n,h,f,p)}),n}function Fd(e,t){return e==null?!0:Pi(e,t)}function Wd(e,t,n){return e==null?e:ba(e,t,Ii(n))}function Gd(e,t,n,s){return s=typeof s=="function"?s:i,e==null?e:ba(e,t,Ii(n),s)}function kt(e){return e==null?[]:ti(e,ce(e))}function zd(e){return e==null?[]:ti(e,Ie(e))}function Kd(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Ge(n),n=n===n?n:0),t!==i&&(t=Ge(t),t=t===t?t:0),Tt(Ge(e),t,n)}function Jd(e,t,n){return t=dt(t),n===i?(n=t,t=0):n=dt(n),e=Ge(e),Vh(e,t,n)}function Yd(e,t,n){if(n&&typeof n!="boolean"&&we(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=dt(e),t===i?(t=e,e=0):t=dt(t)),e>t){var s=e;e=t,t=s}if(n||e%1||t%1){var a=na();return ge(e+a*(t-e+Ac("1e-"+((a+"").length-1))),t)}return _i(e,t)}var Zd=Xt(function(e,t,n){return t=t.toLowerCase(),e+(n?$o(t):t)});function $o(e){return zi(G(e).toLowerCase())}function Ho(e){return e=G(e),e&&e.replace(Xu,Mc).replace(dc,"")}function Xd(e,t,n){e=G(e),t=Se(t);var s=e.length;n=n===i?s:Tt($(n),0,s);var a=n;return n-=t.length,n>=0&&e.slice(n,a)==t}function Qd(e){return e=G(e),e&&Su.test(e)?e.replace(fs,Uc):e}function Vd(e){return e=G(e),e&&Hu.test(e)?e.replace(qr,"\\$&"):e}var kd=Xt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),jd=Xt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),eg=Ma("toLowerCase");function tg(e,t,n){e=G(e),t=$(t);var s=t?Wt(e):0;if(!t||s>=t)return e;var a=(t-s)/2;return hr(Vn(a),n)+e+hr(Qn(a),n)}function ng(e,t,n){e=G(e),t=$(t);var s=t?Wt(e):0;return t&&s<t?e+hr(t-s,n):e}function rg(e,t,n){e=G(e),t=$(t);var s=t?Wt(e):0;return t&&s<t?hr(t-s,n)+e:e}function ig(e,t,n){return n||t==null?t=0:t&&(t=+t),hh(G(e).replace(Br,""),t||0)}function sg(e,t,n){return(n?we(e,t,n):t===i)?t=1:t=$(t),mi(G(e),t)}function ag(){var e=arguments,t=G(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var og=Xt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function ug(e,t,n){return n&&typeof n!="number"&&we(e,t,n)&&(t=n=i),n=n===i?de:n>>>0,n?(e=G(e),e&&(typeof t=="string"||t!=null&&!Fi(t))&&(t=Se(t),!t&&Ft(e))?Et(Ze(e),0,n):e.split(t,n)):[]}var cg=Xt(function(e,t,n){return e+(n?" ":"")+zi(t)});function hg(e,t,n){return e=G(e),n=n==null?0:Tt($(n),0,e.length),t=Se(t),e.slice(n,n+t.length)==t}function fg(e,t,n){var s=o.templateSettings;n&&we(e,t,n)&&(t=i),e=G(e),t=Cr({},t,s,za);var a=Cr({},t.imports,s.imports,za),u=ce(a),h=ti(a,u),f,p,m=0,w=t.interpolate||Hn,C="__p += '",E=ri((t.escape||Hn).source+"|"+w.source+"|"+(w===ls?Gu:Hn).source+"|"+(t.evaluate||Hn).source+"|$","g"),x="//# sourceURL="+(J.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wc+"]")+`
`;e.replace(E,function(R,U,B,Te,Pe,De){return B||(B=Te),C+=e.slice(m,De).replace(Qu,qc),U&&(f=!0,C+=`' +
__e(`+U+`) +
'`),Pe&&(p=!0,C+=`';
`+Pe+`;
__p += '`),B&&(C+=`' +
((__t = (`+B+`)) == null ? '' : __t) +
'`),m=De+R.length,R}),C+=`';
`;var S=J.call(t,"variable")&&t.variable;if(!S)C=`with (obj) {
`+C+`
}
`;else if(Fu.test(S))throw new D(T);C=(p?C.replace(Eu,""):C).replace(bu,"$1").replace(xu,"$1;"),C="function("+(S||"obj")+`) {
`+(S?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+C+`return __p
}`;var N=Mo(function(){return W(u,x+"return "+C).apply(i,h)});if(N.source=C,Bi(N))throw N;return N}function lg(e){return G(e).toLowerCase()}function pg(e){return G(e).toUpperCase()}function dg(e,t,n){if(e=G(e),e&&(n||t===i))return Ks(e);if(!e||!(t=Se(t)))return e;var s=Ze(e),a=Ze(t),u=Js(s,a),h=Ys(s,a)+1;return Et(s,u,h).join("")}function gg(e,t,n){if(e=G(e),e&&(n||t===i))return e.slice(0,Xs(e)+1);if(!e||!(t=Se(t)))return e;var s=Ze(e),a=Ys(s,Ze(t))+1;return Et(s,0,a).join("")}function vg(e,t,n){if(e=G(e),e&&(n||t===i))return e.replace(Br,"");if(!e||!(t=Se(t)))return e;var s=Ze(e),a=Js(s,Ze(t));return Et(s,a).join("")}function _g(e,t){var n=Or,s=He;if(ee(t)){var a="separator"in t?t.separator:a;n="length"in t?$(t.length):n,s="omission"in t?Se(t.omission):s}e=G(e);var u=e.length;if(Ft(e)){var h=Ze(e);u=h.length}if(n>=u)return e;var f=n-Wt(s);if(f<1)return s;var p=h?Et(h,0,f).join(""):e.slice(0,f);if(a===i)return p+s;if(h&&(f+=p.length-f),Fi(a)){if(e.slice(f).search(a)){var m,w=p;for(a.global||(a=ri(a.source,G(ps.exec(a))+"g")),a.lastIndex=0;m=a.exec(w);)var C=m.index;p=p.slice(0,C===i?f:C)}}else if(e.indexOf(Se(a),f)!=f){var E=p.lastIndexOf(a);E>-1&&(p=p.slice(0,E))}return p+s}function mg(e){return e=G(e),e&&Ou.test(e)?e.replace(hs,Jc):e}var wg=Xt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),zi=Ma("toUpperCase");function No(e,t,n){return e=G(e),t=n?i:t,t===i?Fc(e)?Xc(e):Dc(e):e.match(t)||[]}var Mo=M(function(e,t){try{return xe(e,i,t)}catch(n){return Bi(n)?n:new D(n)}}),Pg=ft(function(e,t){return Me(t,function(n){n=nt(n),ct(e,n,Ui(e[n],e))}),e});function yg(e){var t=e==null?0:e.length,n=O();return e=t?j(e,function(s){if(typeof s[1]!="function")throw new Ue(I);return[n(s[0]),s[1]]}):[],M(function(s){for(var a=-1;++a<t;){var u=e[a];if(xe(u[0],this,s))return xe(u[1],this,s)}})}function Cg(e){return Jh(Be(e,se))}function Ki(e){return function(){return e}}function Ig(e,t){return e==null||e!==e?t:e}var Ag=qa(),Eg=qa(!0);function Ae(e){return e}function Ji(e){return ga(typeof e=="function"?e:Be(e,se))}function bg(e){return _a(Be(e,se))}function xg(e,t){return ma(e,Be(t,se))}var Og=M(function(e,t){return function(n){return yn(n,e,t)}}),Sg=M(function(e,t){return function(n){return yn(e,n,t)}});function Yi(e,t,n){var s=ce(t),a=rr(t,s);n==null&&!(ee(t)&&(a.length||!s.length))&&(n=t,t=e,e=this,a=rr(t,ce(t)));var u=!(ee(n)&&"chain"in n)||!!n.chain,h=pt(e);return Me(a,function(f){var p=t[f];e[f]=p,h&&(e.prototype[f]=function(){var m=this.__chain__;if(u||m){var w=e(this.__wrapped__),C=w.__actions__=ye(this.__actions__);return C.push({func:p,args:arguments,thisArg:e}),w.__chain__=m,w}return p.apply(e,wt([this.value()],arguments))})}),e}function Rg(){return he._===this&&(he._=th),this}function Zi(){}function Tg(e){return e=$(e),M(function(t){return wa(t,e)})}var Dg=Ei(j),Lg=Ei(Bs),$g=Ei(Qr);function Uo(e){return Di(e)?Vr(nt(e)):hf(e)}function Hg(e){return function(t){return e==null?i:Dt(e,t)}}var Ng=Fa(),Mg=Fa(!0);function Xi(){return[]}function Qi(){return!1}function Ug(){return{}}function qg(){return""}function Bg(){return!0}function Fg(e,t){if(e=$(e),e<1||e>X)return[];var n=de,s=ge(e,de);t=O(t),e-=de;for(var a=ei(s,t);++n<e;)t(n);return a}function Wg(e){return L(e)?j(e,nt):Re(e)?[e]:ye(ro(G(e)))}function Gg(e){var t=++jc;return G(e)+t}var zg=cr(function(e,t){return e+t},0),Kg=bi("ceil"),Jg=cr(function(e,t){return e/t},1),Yg=bi("floor");function Zg(e){return e&&e.length?nr(e,Ae,fi):i}function Xg(e,t){return e&&e.length?nr(e,O(t,2),fi):i}function Qg(e){return Gs(e,Ae)}function Vg(e,t){return Gs(e,O(t,2))}function kg(e){return e&&e.length?nr(e,Ae,gi):i}function jg(e,t){return e&&e.length?nr(e,O(t,2),gi):i}var ev=cr(function(e,t){return e*t},1),tv=bi("round"),nv=cr(function(e,t){return e-t},0);function rv(e){return e&&e.length?jr(e,Ae):0}function iv(e,t){return e&&e.length?jr(e,O(t,2)):0}return o.after=bp,o.ary=go,o.assign=pd,o.assignIn=So,o.assignInWith=Cr,o.assignWith=dd,o.at=gd,o.before=vo,o.bind=Ui,o.bindAll=Pg,o.bindKey=_o,o.castArray=Up,o.chain=fo,o.chunk=Yf,o.compact=Zf,o.concat=Xf,o.cond=yg,o.conforms=Cg,o.constant=Ki,o.countBy=rp,o.create=vd,o.curry=mo,o.curryRight=wo,o.debounce=Po,o.defaults=_d,o.defaultsDeep=md,o.defer=xp,o.delay=Op,o.difference=Qf,o.differenceBy=Vf,o.differenceWith=kf,o.drop=jf,o.dropRight=el,o.dropRightWhile=tl,o.dropWhile=nl,o.fill=rl,o.filter=sp,o.flatMap=up,o.flatMapDeep=cp,o.flatMapDepth=hp,o.flatten=oo,o.flattenDeep=il,o.flattenDepth=sl,o.flip=Sp,o.flow=Ag,o.flowRight=Eg,o.fromPairs=al,o.functions=Ed,o.functionsIn=bd,o.groupBy=fp,o.initial=ul,o.intersection=cl,o.intersectionBy=hl,o.intersectionWith=fl,o.invert=Od,o.invertBy=Sd,o.invokeMap=pp,o.iteratee=Ji,o.keyBy=dp,o.keys=ce,o.keysIn=Ie,o.map=vr,o.mapKeys=Td,o.mapValues=Dd,o.matches=bg,o.matchesProperty=xg,o.memoize=mr,o.merge=Ld,o.mergeWith=Ro,o.method=Og,o.methodOf=Sg,o.mixin=Yi,o.negate=wr,o.nthArg=Tg,o.omit=$d,o.omitBy=Hd,o.once=Rp,o.orderBy=gp,o.over=Dg,o.overArgs=Tp,o.overEvery=Lg,o.overSome=$g,o.partial=qi,o.partialRight=yo,o.partition=vp,o.pick=Nd,o.pickBy=To,o.property=Uo,o.propertyOf=Hg,o.pull=gl,o.pullAll=co,o.pullAllBy=vl,o.pullAllWith=_l,o.pullAt=ml,o.range=Ng,o.rangeRight=Mg,o.rearg=Dp,o.reject=wp,o.remove=wl,o.rest=Lp,o.reverse=Ni,o.sampleSize=yp,o.set=Ud,o.setWith=qd,o.shuffle=Cp,o.slice=Pl,o.sortBy=Ep,o.sortedUniq=xl,o.sortedUniqBy=Ol,o.split=ug,o.spread=$p,o.tail=Sl,o.take=Rl,o.takeRight=Tl,o.takeRightWhile=Dl,o.takeWhile=Ll,o.tap=Zl,o.throttle=Hp,o.thru=gr,o.toArray=bo,o.toPairs=Do,o.toPairsIn=Lo,o.toPath=Wg,o.toPlainObject=Oo,o.transform=Bd,o.unary=Np,o.union=$l,o.unionBy=Hl,o.unionWith=Nl,o.uniq=Ml,o.uniqBy=Ul,o.uniqWith=ql,o.unset=Fd,o.unzip=Mi,o.unzipWith=ho,o.update=Wd,o.updateWith=Gd,o.values=kt,o.valuesIn=zd,o.without=Bl,o.words=No,o.wrap=Mp,o.xor=Fl,o.xorBy=Wl,o.xorWith=Gl,o.zip=zl,o.zipObject=Kl,o.zipObjectDeep=Jl,o.zipWith=Yl,o.entries=Do,o.entriesIn=Lo,o.extend=So,o.extendWith=Cr,Yi(o,o),o.add=zg,o.attempt=Mo,o.camelCase=Zd,o.capitalize=$o,o.ceil=Kg,o.clamp=Kd,o.clone=qp,o.cloneDeep=Fp,o.cloneDeepWith=Wp,o.cloneWith=Bp,o.conformsTo=Gp,o.deburr=Ho,o.defaultTo=Ig,o.divide=Jg,o.endsWith=Xd,o.eq=Qe,o.escape=Qd,o.escapeRegExp=Vd,o.every=ip,o.find=ap,o.findIndex=so,o.findKey=wd,o.findLast=op,o.findLastIndex=ao,o.findLastKey=Pd,o.floor=Yg,o.forEach=lo,o.forEachRight=po,o.forIn=yd,o.forInRight=Cd,o.forOwn=Id,o.forOwnRight=Ad,o.get=Wi,o.gt=zp,o.gte=Kp,o.has=xd,o.hasIn=Gi,o.head=uo,o.identity=Ae,o.includes=lp,o.indexOf=ol,o.inRange=Jd,o.invoke=Rd,o.isArguments=Ht,o.isArray=L,o.isArrayBuffer=Jp,o.isArrayLike=Ce,o.isArrayLikeObject=re,o.isBoolean=Yp,o.isBuffer=bt,o.isDate=Zp,o.isElement=Xp,o.isEmpty=Qp,o.isEqual=Vp,o.isEqualWith=kp,o.isError=Bi,o.isFinite=jp,o.isFunction=pt,o.isInteger=Co,o.isLength=Pr,o.isMap=Io,o.isMatch=ed,o.isMatchWith=td,o.isNaN=nd,o.isNative=rd,o.isNil=sd,o.isNull=id,o.isNumber=Ao,o.isObject=ee,o.isObjectLike=te,o.isPlainObject=xn,o.isRegExp=Fi,o.isSafeInteger=ad,o.isSet=Eo,o.isString=yr,o.isSymbol=Re,o.isTypedArray=Vt,o.isUndefined=od,o.isWeakMap=ud,o.isWeakSet=cd,o.join=ll,o.kebabCase=kd,o.last=We,o.lastIndexOf=pl,o.lowerCase=jd,o.lowerFirst=eg,o.lt=hd,o.lte=fd,o.max=Zg,o.maxBy=Xg,o.mean=Qg,o.meanBy=Vg,o.min=kg,o.minBy=jg,o.stubArray=Xi,o.stubFalse=Qi,o.stubObject=Ug,o.stubString=qg,o.stubTrue=Bg,o.multiply=ev,o.nth=dl,o.noConflict=Rg,o.noop=Zi,o.now=_r,o.pad=tg,o.padEnd=ng,o.padStart=rg,o.parseInt=ig,o.random=Yd,o.reduce=_p,o.reduceRight=mp,o.repeat=sg,o.replace=ag,o.result=Md,o.round=tv,o.runInContext=l,o.sample=Pp,o.size=Ip,o.snakeCase=og,o.some=Ap,o.sortedIndex=yl,o.sortedIndexBy=Cl,o.sortedIndexOf=Il,o.sortedLastIndex=Al,o.sortedLastIndexBy=El,o.sortedLastIndexOf=bl,o.startCase=cg,o.startsWith=hg,o.subtract=nv,o.sum=rv,o.sumBy=iv,o.template=fg,o.times=Fg,o.toFinite=dt,o.toInteger=$,o.toLength=xo,o.toLower=lg,o.toNumber=Ge,o.toSafeInteger=ld,o.toString=G,o.toUpper=pg,o.trim=dg,o.trimEnd=gg,o.trimStart=vg,o.truncate=_g,o.unescape=mg,o.uniqueId=Gg,o.upperCase=wg,o.upperFirst=zi,o.each=lo,o.eachRight=po,o.first=uo,Yi(o,function(){var e={};return et(o,function(t,n){J.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION=c,Me(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),Me(["drop","take"],function(e,t){q.prototype[e]=function(n){n=n===i?1:oe($(n),0);var s=this.__filtered__&&!t?new q(this):this.clone();return s.__filtered__?s.__takeCount__=ge(n,s.__takeCount__):s.__views__.push({size:ge(n,de),type:e+(s.__dir__<0?"Right":"")}),s},q.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Me(["filter","map","takeWhile"],function(e,t){var n=t+1,s=n==v||n==H;q.prototype[e]=function(a){var u=this.clone();return u.__iteratees__.push({iteratee:O(a,3),type:n}),u.__filtered__=u.__filtered__||s,u}}),Me(["head","last"],function(e,t){var n="take"+(t?"Right":"");q.prototype[e]=function(){return this[n](1).value()[0]}}),Me(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");q.prototype[e]=function(){return this.__filtered__?new q(this):this[n](1)}}),q.prototype.compact=function(){return this.filter(Ae)},q.prototype.find=function(e){return this.filter(e).head()},q.prototype.findLast=function(e){return this.reverse().find(e)},q.prototype.invokeMap=M(function(e,t){return typeof e=="function"?new q(this):this.map(function(n){return yn(n,e,t)})}),q.prototype.reject=function(e){return this.filter(wr(O(e)))},q.prototype.slice=function(e,t){e=$(e);var n=this;return n.__filtered__&&(e>0||t<0)?new q(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=$(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},q.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},q.prototype.toArray=function(){return this.take(de)},et(q.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),a=o[s?"take"+(t=="last"?"Right":""):t],u=s||/^find/.test(t);a&&(o.prototype[t]=function(){var h=this.__wrapped__,f=s?[1]:arguments,p=h instanceof q,m=f[0],w=p||L(h),C=function(U){var B=a.apply(o,wt([U],f));return s&&E?B[0]:B};w&&n&&typeof m=="function"&&m.length!=1&&(p=w=!1);var E=this.__chain__,x=!!this.__actions__.length,S=u&&!E,N=p&&!x;if(!u&&w){h=N?h:new q(this);var R=e.apply(h,f);return R.__actions__.push({func:gr,args:[C],thisArg:i}),new qe(R,E)}return S&&N?e.apply(this,f):(R=this.thru(C),S?s?R.value()[0]:R.value():R)})}),Me(["pop","push","shift","sort","splice","unshift"],function(e){var t=Fn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var a=arguments;if(s&&!this.__chain__){var u=this.value();return t.apply(L(u)?u:[],a)}return this[n](function(h){return t.apply(L(h)?h:[],a)})}}),et(q.prototype,function(e,t){var n=o[t];if(n){var s=n.name+"";J.call(Jt,s)||(Jt[s]=[]),Jt[s].push({name:t,func:n})}}),Jt[ur(i,rt).name]=[{name:"wrapper",func:i}],q.prototype.clone=_h,q.prototype.reverse=mh,q.prototype.value=wh,o.prototype.at=Xl,o.prototype.chain=Ql,o.prototype.commit=Vl,o.prototype.next=kl,o.prototype.plant=ep,o.prototype.reverse=tp,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=np,o.prototype.first=o.prototype.head,dn&&(o.prototype[dn]=jl),o},Gt=Qc();xt?((xt.exports=Gt)._=Gt,Jr._=Gt):he._=Gt}).call(jt)})(br,br.exports);var mv=br.exports,is={exports:{}};(function(P,r){var i=typeof self<"u"?self:jt,c=function(){function y(){this.fetch=!1,this.DOMException=i.DOMException}return y.prototype=i,new y}();(function(y){(function(I){var T={searchParams:"URLSearchParams"in y,iterable:"Symbol"in y&&"iterator"in Symbol,blob:"FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in y,arrayBuffer:"ArrayBuffer"in y};function z(v){return v&&DataView.prototype.isPrototypeOf(v)}if(T.arrayBuffer)var ne=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],le=ArrayBuffer.isView||function(v){return v&&ne.indexOf(Object.prototype.toString.call(v))>-1};function se(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function pe(v){return typeof v!="string"&&(v=String(v)),v}function ue(v){var A={next:function(){var H=v.shift();return{done:H===void 0,value:H}}};return T.iterable&&(A[Symbol.iterator]=function(){return A}),A}function Z(v){this.map={},v instanceof Z?v.forEach(function(A,H){this.append(H,A)},this):Array.isArray(v)?v.forEach(function(A){this.append(A[0],A[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(A){this.append(A,v[A])},this)}Z.prototype.append=function(v,A){v=se(v),A=pe(A);var H=this.map[v];this.map[v]=H?H+", "+A:A},Z.prototype.delete=function(v){delete this.map[se(v)]},Z.prototype.get=function(v){return v=se(v),this.has(v)?this.map[v]:null},Z.prototype.has=function(v){return this.map.hasOwnProperty(se(v))},Z.prototype.set=function(v,A){this.map[se(v)]=pe(A)},Z.prototype.forEach=function(v,A){for(var H in this.map)this.map.hasOwnProperty(H)&&v.call(A,this.map[H],H,this)},Z.prototype.keys=function(){var v=[];return this.forEach(function(A,H){v.push(H)}),ue(v)},Z.prototype.values=function(){var v=[];return this.forEach(function(A){v.push(A)}),ue(v)},Z.prototype.entries=function(){var v=[];return this.forEach(function(A,H){v.push([H,A])}),ue(v)},T.iterable&&(Z.prototype[Symbol.iterator]=Z.prototype.entries);function vt(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function _e(v){return new Promise(function(A,H){v.onload=function(){A(v.result)},v.onerror=function(){H(v.error)}})}function rt(v){var A=new FileReader,H=_e(A);return A.readAsArrayBuffer(v),H}function Rn(v){var A=new FileReader,H=_e(A);return A.readAsText(v),H}function $e(v){for(var A=new Uint8Array(v),H=new Array(A.length),k=0;k<A.length;k++)H[k]=String.fromCharCode(A[k]);return H.join("")}function it(v){if(v.slice)return v.slice(0);var A=new Uint8Array(v.byteLength);return A.set(new Uint8Array(v)),A.buffer}function Ee(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:T.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:T.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:T.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():T.arrayBuffer&&T.blob&&z(v)?(this._bodyArrayBuffer=it(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):T.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||le(v))?this._bodyArrayBuffer=it(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):T.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},T.blob&&(this.blob=function(){var v=vt(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?vt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(rt)}),this.text=function(){var v=vt(this);if(v)return v;if(this._bodyBlob)return Rn(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($e(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},T.formData&&(this.formData=function(){return this.text().then(nn)}),this.json=function(){return this.text().then(JSON.parse)},this}var _t=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ke(v){var A=v.toUpperCase();return _t.indexOf(A)>-1?A:v}function be(v,A){A=A||{};var H=A.body;if(v instanceof be){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,A.headers||(this.headers=new Z(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!H&&v._bodyInit!=null&&(H=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new Z(A.headers)),this.method=Ke(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}be.prototype.clone=function(){return new be(this,{body:this._bodyInit})};function nn(v){var A=new FormData;return v.trim().split("&").forEach(function(H){if(H){var k=H.split("="),X=k.shift().replace(/\+/g," "),K=k.join("=").replace(/\+/g," ");A.append(decodeURIComponent(X),decodeURIComponent(K))}}),A}function Or(v){var A=new Z,H=v.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(k){var X=k.split(":"),K=X.shift().trim();if(K){var st=X.join(":").trim();A.append(K,st)}}),A}Ee.call(be.prototype);function He(v,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new Z(A.headers),this.url=A.url||"",this._initBody(v)}Ee.call(He.prototype),He.prototype.clone=function(){return new He(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Z(this.headers),url:this.url})},He.error=function(){var v=new He(null,{status:0,statusText:""});return v.type="error",v};var Sr=[301,302,303,307,308];He.redirect=function(v,A){if(Sr.indexOf(A)===-1)throw new RangeError("Invalid status code");return new He(null,{status:A,headers:{location:v}})},I.DOMException=y.DOMException;try{new I.DOMException}catch{I.DOMException=function(A,H){this.message=A,this.name=H;var k=Error(A);this.stack=k.stack},I.DOMException.prototype=Object.create(Error.prototype),I.DOMException.prototype.constructor=I.DOMException}function rn(v,A){return new Promise(function(H,k){var X=new be(v,A);if(X.signal&&X.signal.aborted)return k(new I.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function st(){K.abort()}K.onload=function(){var de={status:K.status,statusText:K.statusText,headers:Or(K.getAllResponseHeaders()||"")};de.url="responseURL"in K?K.responseURL:de.headers.get("X-Request-URL");var sn="response"in K?K.response:K.responseText;H(new He(sn,de))},K.onerror=function(){k(new TypeError("Network request failed"))},K.ontimeout=function(){k(new TypeError("Network request failed"))},K.onabort=function(){k(new I.DOMException("Aborted","AbortError"))},K.open(X.method,X.url,!0),X.credentials==="include"?K.withCredentials=!0:X.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&T.blob&&(K.responseType="blob"),X.headers.forEach(function(de,sn){K.setRequestHeader(sn,de)}),X.signal&&(X.signal.addEventListener("abort",st),K.onreadystatechange=function(){K.readyState===4&&X.signal.removeEventListener("abort",st)}),K.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return rn.polyfill=!0,y.fetch||(y.fetch=rn,y.Headers=Z,y.Request=be,y.Response=He),I.Headers=Z,I.Request=be,I.Response=He,I.fetch=rn,Object.defineProperty(I,"__esModule",{value:!0}),I})({})})(c),c.fetch.ponyfill=!0,delete c.fetch.polyfill;var d=c;r=d.fetch,r.default=d.fetch,r.fetch=d.fetch,r.Headers=d.Headers,r.Request=d.Request,r.Response=d.Response,P.exports=r})(is,is.exports);var wv=is.exports;const Go=sv(wv);var Pv=Object.defineProperty,yv=Object.defineProperties,Cv=Object.getOwnPropertyDescriptors,zo=Object.getOwnPropertySymbols,Iv=Object.prototype.hasOwnProperty,Av=Object.prototype.propertyIsEnumerable,Ko=(P,r,i)=>r in P?Pv(P,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[r]=i,Jo=(P,r)=>{for(var i in r||(r={}))Iv.call(r,i)&&Ko(P,i,r[i]);if(zo)for(var i of zo(r))Av.call(r,i)&&Ko(P,i,r[i]);return P},Yo=(P,r)=>yv(P,Cv(r));const Ev={Accept:"application/json","Content-Type":"application/json"},bv="POST",Zo={headers:Ev,method:bv},Xo=10;let je=class{constructor(r,i=!1){if(this.url=r,this.disableProviderPing=i,this.events=new hu.EventEmitter,this.isAvailable=!1,this.registering=!1,!Bo(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,i){this.events.on(r,i)}once(r,i){this.events.once(r,i)}off(r,i){this.events.off(r,i)}removeListener(r,i){this.events.removeListener(r,i)}async open(r=this.url){await this.register(r)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(r){this.isAvailable||await this.register();try{const i=Fo(r),c=await(await Go(this.url,Yo(Jo({},Zo),{body:i}))).json();this.onPayload({data:c})}catch(i){this.onError(r.id,i)}}async register(r=this.url){if(!Bo(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((c,d)=>{this.events.once("register_error",y=>{this.resetMaxListeners(),d(y)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return d(new Error("HTTP connection is missing or invalid"));c()})})}this.url=r,this.registering=!0;try{if(!this.disableProviderPing){const i=Fo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Go(r,Yo(Jo({},Zo),{body:i}))}this.onOpen()}catch(i){const c=this.parseError(i);throw this.events.emit("register_error",c),this.onClose(),c}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const i=typeof r.data=="string"?av(r.data):r.data;this.events.emit("payload",i)}onError(r,i){const c=this.parseError(i),d=c.message||c.toString(),y=ov(r,d);this.events.emit("payload",y)}parseError(r,i=this.url){return uv(r,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Xo&&this.events.setMaxListeners(Xo)}};const Qo="error",xv="wss://relay.walletconnect.org",Ov="wc",Sv="universal_provider",Vo=`${Ov}@2:${Sv}:`,pu="https://rpc.walletconnect.org/v1/",en="generic",Rv=`${pu}bundler`,ze={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Tv=Object.defineProperty,Dv=Object.defineProperties,Lv=Object.getOwnPropertyDescriptors,ko=Object.getOwnPropertySymbols,$v=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable,jo=(P,r,i)=>r in P?Tv(P,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[r]=i,Ir=(P,r)=>{for(var i in r||(r={}))$v.call(r,i)&&jo(P,i,r[i]);if(ko)for(var i of ko(r))Hv.call(r,i)&&jo(P,i,r[i]);return P},Nv=(P,r)=>Dv(P,Lv(r));function Le(P,r,i){var c;const d=lu(P);return((c=r.rpcMap)==null?void 0:c[d.reference])||`${pu}?chainId=${d.namespace}:${d.reference}&projectId=${i}`}function Nt(P){return P.includes(":")?P.split(":")[1]:P}function du(P){return P.map(r=>`${r.split(":")[0]}:${r.split(":")[1]}`)}function Mv(P,r){const i=Object.keys(r.namespaces).filter(d=>d.includes(P));if(!i.length)return[];const c=[];return i.forEach(d=>{const y=r.namespaces[d].accounts;c.push(...y)}),c}function ki(P={},r={}){const i=eu(P),c=eu(r);return mv.merge(i,c)}function eu(P){var r,i,c,d;const y={};if(!gv(P))return y;for(const[I,T]of Object.entries(P)){const z=fu(I)?[I]:T.chains,ne=T.methods||[],le=T.events||[],se=T.rpcMap||{},pe=On(I);y[pe]=Nv(Ir(Ir({},y[pe]),T),{chains:Vi(z,(r=y[pe])==null?void 0:r.chains),methods:Vi(ne,(i=y[pe])==null?void 0:i.methods),events:Vi(le,(c=y[pe])==null?void 0:c.events),rpcMap:Ir(Ir({},se),(d=y[pe])==null?void 0:d.rpcMap)})}return y}function Uv(P){return P.includes(":")?P.split(":")[2]:P}function tu(P){const r={};for(const[i,c]of Object.entries(P)){const d=c.methods||[],y=c.events||[],I=c.accounts||[],T=fu(i)?[i]:c.chains?c.chains:du(c.accounts);r[i]={chains:T,methods:d,events:y,accounts:I}}return r}function ji(P){return typeof P=="number"?P:P.includes("0x")?parseInt(P,16):(P=P.includes(":")?P.split(":")[1]:P,isNaN(Number(P))?P:Number(P))}const gu={},F=P=>gu[P],es=(P,r)=>{gu[P]=r};class qv{constructor(r){this.name="polkadot",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Nt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}var Bv=Object.defineProperty,Fv=Object.defineProperties,Wv=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,Gv=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,ru=(P,r,i)=>r in P?Bv(P,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[r]=i,iu=(P,r)=>{for(var i in r||(r={}))Gv.call(r,i)&&ru(P,i,r[i]);if(nu)for(var i of nu(r))zv.call(r,i)&&ru(P,i,r[i]);return P},su=(P,r)=>Fv(P,Wv(r));class Kv{constructor(r){this.name="eip155",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(r){switch(r.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(r);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(r);case"wallet_getCallsStatus":return await this.getCallStatus(r)}return this.namespace.methods.includes(r.request.method)?await this.client.request(r):this.getHttpProvider().request(r.request)}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(parseInt(r),i),this.chainId=parseInt(r),this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}createHttpProvider(r,i){const c=i||Le(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=parseInt(Nt(i));r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const r=this.chainId,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}async handleSwitchChain(r){var i,c;let d=r.request.params?(i=r.request.params[0])==null?void 0:i.chainId:"0x0";d=d.startsWith("0x")?d:`0x${d}`;const y=parseInt(d,16);if(this.isChainApproved(y))this.setDefaultChain(`${y}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:r.topic,request:{method:r.request.method,params:[{chainId:d}]},chainId:(c=this.namespace.chains)==null?void 0:c[0]}),this.setDefaultChain(`${y}`);else throw new Error(`Failed to switch to chain 'eip155:${y}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}async getCapabilities(r){var i,c,d;const y=(c=(i=r.request)==null?void 0:i.params)==null?void 0:c[0];if(!y)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const I=this.client.session.get(r.topic),T=((d=I==null?void 0:I.sessionProperties)==null?void 0:d.capabilities)||{};if(T!=null&&T[y])return T==null?void 0:T[y];const z=await this.client.request(r);try{await this.client.session.update(r.topic,{sessionProperties:su(iu({},I.sessionProperties||{}),{capabilities:su(iu({},T||{}),{[y]:z})})})}catch(ne){console.warn("Failed to update session with capabilities",ne)}return z}async getCallStatus(r){var i,c;const d=this.client.session.get(r.topic),y=(i=d.sessionProperties)==null?void 0:i.bundler_name;if(y){const T=this.getBundlerUrl(r.chainId,y);try{return await this.getUserOperationReceipt(T,r)}catch(z){console.warn("Failed to fetch call status from bundler",z,T)}}const I=(c=d.sessionProperties)==null?void 0:c.bundler_url;if(I)try{return await this.getUserOperationReceipt(I,r)}catch(T){console.warn("Failed to fetch call status from custom bundler",T,I)}if(this.namespace.methods.includes(r.request.method))return await this.client.request(r);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(r,i){var c;const d=new URL(r),y=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vv("eth_getUserOperationReceipt",[(c=i.request.params)==null?void 0:c[0]]))});if(!y.ok)throw new Error(`Failed to fetch user operation receipt - ${y.status}`);return await y.json()}getBundlerUrl(r,i){return`${Rv}?projectId=${this.client.core.projectId}&chainId=${r}&bundler=${i}`}}class Jv{constructor(r){this.name="solana",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Nt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}class Yv{constructor(r){this.name="cosmos",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Nt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}class Zv{constructor(r){this.name="algorand",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(!this.httpProviders[r]){const c=i||Le(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;r[i]=this.createHttpProvider(i,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new ke(new je(c,F("disableProviderPing")))}}class Xv{constructor(r){this.name="cip34",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{const c=this.getCardanoRPCUrl(i),d=Nt(i);r[d]=this.createHttpProvider(d,c)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}getCardanoRPCUrl(r){const i=this.namespace.rpcMap;if(i)return i[r]}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||this.getCardanoRPCUrl(r);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}class Qv{constructor(r){this.name="elrond",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Nt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}class Vv{constructor(r){this.name="multiversx",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Nt(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}class kv{constructor(r){this.name="near",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(this.chainId=r,!this.httpProviders[r]){const c=i||Le(`${this.name}:${r}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;r[i]=this.createHttpProvider(i,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace);return typeof c>"u"?void 0:new ke(new je(c,F("disableProviderPing")))}}class jv{constructor(r){this.name="tezos",this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(this.chainId=r,!this.httpProviders[r]){const c=i||Le(`${this.name}:${r}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{r[i]=this.createHttpProvider(i)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace);return typeof c>"u"?void 0:new ke(new je(c))}}class e_{constructor(r){this.name=en,this.namespace=r.namespace,this.events=F("events"),this.client=F("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(r.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(r.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(r.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(r.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider(r.chainId).request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(ze.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){var r,i;const c={};return(i=(r=this.namespace)==null?void 0:r.accounts)==null||i.forEach(d=>{const y=lu(d);c[`${y.namespace}:${y.reference}`]=this.createHttpProvider(d)}),c}getHttpProvider(r){const i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||Le(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new ke(new je(c,F("disableProviderPing")))}}var t_=Object.defineProperty,n_=Object.defineProperties,r_=Object.getOwnPropertyDescriptors,au=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,s_=Object.prototype.propertyIsEnumerable,ou=(P,r,i)=>r in P?t_(P,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[r]=i,Ar=(P,r)=>{for(var i in r||(r={}))i_.call(r,i)&&ou(P,i,r[i]);if(au)for(var i of au(r))s_.call(r,i)&&ou(P,i,r[i]);return P},ts=(P,r)=>n_(P,r_(r));let a_=class vu{constructor(r){this.events=new cv,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=r,this.logger=typeof(r==null?void 0:r.logger)<"u"&&typeof(r==null?void 0:r.logger)!="string"?r.logger:hv(fv({level:(r==null?void 0:r.logger)||Qo})),this.disableProviderPing=(r==null?void 0:r.disableProviderPing)||!1}static async init(r){const i=new vu(r);return await i.initialize(),i}async request(r,i,c){const[d,y]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(d).request({request:Ar({},r),chainId:`${d}:${y}`,topic:this.session.topic,expiry:c})}sendAsync(r,i,c,d){const y=new Date().getTime();this.request(r,c,d).then(I=>i(null,lv(y,I))).catch(I=>i(I,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var r;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(r=this.session)==null?void 0:r.topic,reason:rs("USER_DISCONNECTED")}),await this.cleanup()}async connect(r){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(r),await this.cleanupPendingPairings(),!r.skipPairing)return await this.pair(r.pairingTopic)}async authenticate(r,i){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(r),await this.cleanupPendingPairings();const{uri:c,response:d}=await this.client.authenticate(r,i);c&&(this.uri=c,this.events.emit("display_uri",c));const y=await d();if(this.session=y.session,this.session){const I=tu(this.session.namespaces);this.namespaces=ki(this.namespaces,I),this.persist("namespaces",this.namespaces),this.onConnect()}return y}on(r,i){this.events.on(r,i)}once(r,i){this.events.once(r,i)}removeListener(r,i){this.events.removeListener(r,i)}off(r,i){this.events.off(r,i)}get isWalletConnect(){return!0}async pair(r){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:c,approval:d}=await this.client.connect({pairingTopic:r,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await d().then(y=>{this.session=y;const I=tu(y.namespaces);this.namespaces=ki(this.namespaces,I),this.persist("namespaces",this.namespaces)}).catch(y=>{if(y.message!==pv)throw y;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(r,i){try{if(!this.session)return;const[c,d]=this.validateChain(r),y=this.getProvider(c);y.name===en?y.setDefaultChain(`${c}:${d}`,i):y.setDefaultChain(d,i)}catch(c){if(!/Please call connect/.test(c.message))throw c}}async cleanupPendingPairings(r={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Sn(i)){for(const c of i)r.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const r=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[r]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await dv.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Qo,relayUrl:this.providerOpts.relayUrl||xv,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const r=[...new Set(Object.keys(this.session.namespaces).map(i=>On(i)))];es("client",this.client),es("events",this.events),es("disableProviderPing",this.disableProviderPing),r.forEach(i=>{if(!this.session)return;const c=Mv(i,this.session),d=du(c),y=ki(this.namespaces,this.optionalNamespaces),I=ts(Ar({},y[i]),{accounts:c,chains:d});switch(i){case"eip155":this.rpcProviders[i]=new Kv({namespace:I});break;case"algorand":this.rpcProviders[i]=new Zv({namespace:I});break;case"solana":this.rpcProviders[i]=new Jv({namespace:I});break;case"cosmos":this.rpcProviders[i]=new Yv({namespace:I});break;case"polkadot":this.rpcProviders[i]=new qv({namespace:I});break;case"cip34":this.rpcProviders[i]=new Xv({namespace:I});break;case"elrond":this.rpcProviders[i]=new Qv({namespace:I});break;case"multiversx":this.rpcProviders[i]=new Vv({namespace:I});break;case"near":this.rpcProviders[i]=new kv({namespace:I});break;case"tezos":this.rpcProviders[i]=new jv({namespace:I});break;default:this.rpcProviders[en]?this.rpcProviders[en].updateNamespace(I):this.rpcProviders[en]=new e_({namespace:I})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:i}=r,{event:c}=i;if(c.name==="accountsChanged"){const d=c.data;d&&Sn(d)&&this.events.emit("accountsChanged",d.map(Uv))}else if(c.name==="chainChanged"){const d=i.chainId,y=i.event.data,I=On(d),T=ji(d)!==ji(y)?`${I}:${ji(y)}`:d;this.onChainChanged(T)}else this.events.emit(c.name,c.data);this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:i})=>{var c;const{namespaces:d}=i,y=(c=this.client)==null?void 0:c.session.get(r);this.session=ts(Ar({},y),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:i})}),this.client.on("session_delete",async r=>{await this.cleanup(),this.events.emit("session_delete",r),this.events.emit("disconnect",ts(Ar({},rs("USER_DISCONNECTED")),{data:r.topic}))}),this.on(ze.DEFAULT_CHAIN_CHANGED,r=>{this.onChainChanged(r,!0)})}getProvider(r){return this.rpcProviders[r]||this.rpcProviders[en]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(r=>{var i;this.getProvider(r).updateNamespace((i=this.session)==null?void 0:i.namespaces[r])})}setNamespaces(r){const{namespaces:i,optionalNamespaces:c,sessionProperties:d}=r;i&&Object.keys(i).length&&(this.namespaces=i),c&&Object.keys(c).length&&(this.optionalNamespaces=c),this.sessionProperties=d,this.persist("namespaces",i),this.persist("optionalNamespaces",c)}validateChain(r){const[i,c]=(r==null?void 0:r.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,c];if(i&&!Object.keys(this.namespaces||{}).map(I=>On(I)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&c)return[i,c];const d=On(Object.keys(this.namespaces)[0]),y=this.rpcProviders[d].getDefaultChain();return[d,y]}async requestAccounts(){const[r]=this.validateChain();return await this.getProvider(r).requestAccounts()}onChainChanged(r,i=!1){if(!this.namespaces)return;const[c,d]=this.validateChain(r);d&&(i||this.getProvider(c).setDefaultChain(d),this.namespaces[c]?this.namespaces[c].defaultChain=d:this.namespaces[`${c}:${d}`]?this.namespaces[`${c}:${d}`].defaultChain=d:this.namespaces[`${c}:${d}`]={defaultChain:d},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",d))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(r,i){this.client.core.storage.setItem(`${Vo}/${r}`,i)}async getFromStore(r){return await this.client.core.storage.getItem(`${Vo}/${r}`)}};const o_=a_,u_="wc",c_="ethereum_provider",h_=`${u_}@2:${c_}:`,f_="https://rpc.walletconnect.org/v1/",ss=["eth_sendTransaction","personal_sign"],l_=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],as=["chainChanged","accountsChanged"],p_=["chainChanged","accountsChanged","message","disconnect","connect"];var d_=Object.defineProperty,g_=Object.defineProperties,v_=Object.getOwnPropertyDescriptors,uu=Object.getOwnPropertySymbols,__=Object.prototype.hasOwnProperty,m_=Object.prototype.propertyIsEnumerable,cu=(P,r,i)=>r in P?d_(P,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[r]=i,tn=(P,r)=>{for(var i in r||(r={}))__.call(r,i)&&cu(P,i,r[i]);if(uu)for(var i of uu(r))m_.call(r,i)&&cu(P,i,r[i]);return P},ns=(P,r)=>g_(P,v_(r));function xr(P){return Number(P[0].split(":")[1])}function Er(P){return`0x${P.toString(16)}`}function w_(P){const{chains:r,optionalChains:i,methods:c,optionalMethods:d,events:y,optionalEvents:I,rpcMap:T}=P;if(!Sn(r))throw new Error("Invalid chains");const z={chains:r,methods:c||ss,events:y||as,rpcMap:tn({},r.length?{[xr(r)]:T[xr(r)]}:{})},ne=y==null?void 0:y.filter(ue=>!as.includes(ue)),le=c==null?void 0:c.filter(ue=>!ss.includes(ue));if(!i&&!I&&!d&&!(ne!=null&&ne.length)&&!(le!=null&&le.length))return{required:r.length?z:void 0};const se=(ne==null?void 0:ne.length)&&(le==null?void 0:le.length)||!i,pe={chains:[...new Set(se?z.chains.concat(i||[]):i)],methods:[...new Set(z.methods.concat(d!=null&&d.length?d:l_))],events:[...new Set(z.events.concat(I!=null&&I.length?I:p_))],rpcMap:T};return{required:r.length?z:void 0,optional:i.length?pe:void 0}}class os{constructor(){this.events=new hu.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=h_,this.on=(r,i)=>(this.events.on(r,i),this),this.once=(r,i)=>(this.events.once(r,i),this),this.removeListener=(r,i)=>(this.events.removeListener(r,i),this),this.off=(r,i)=>(this.events.off(r,i),this),this.parseAccount=r=>this.isCompatibleChainId(r)?this.parseAccountId(r).address:r,this.signer={},this.rpc={}}static async init(r){const i=new os;return await i.initialize(r),i}async request(r,i){return await this.signer.request(r,this.formatChainId(this.chainId),i)}sendAsync(r,i,c){this.signer.sendAsync(r,i,this.formatChainId(this.chainId),c)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(r);const{required:i,optional:c}=w_(this.rpc);try{const d=await new Promise(async(I,T)=>{var z;this.rpc.showQrModal&&((z=this.modal)==null||z.subscribeModal(ne=>{!ne.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),T(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(ns(tn({namespaces:tn({},i&&{[this.namespace]:i})},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:r==null?void 0:r.pairingTopic})).then(ne=>{I(ne)}).catch(ne=>{T(new Error(ne.message))})});if(!d)return;const y=Wo(d.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:y),this.setAccounts(y),this.events.emit("connect",{chainId:Er(this.chainId)})}catch(d){throw this.signer.logger.error(d),d}finally{this.modal&&this.modal.closeModal()}}async authenticate(r,i){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:r==null?void 0:r.chains});try{const c=await new Promise(async(y,I)=>{var T;this.rpc.showQrModal&&((T=this.modal)==null||T.subscribeModal(z=>{!z.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),I(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(ns(tn({},r),{chains:this.rpc.chains}),i).then(z=>{y(z)}).catch(z=>{I(new Error(z.message))})}),d=c.session;if(d){const y=Wo(d.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:y),this.setAccounts(y),this.events.emit("connect",{chainId:Er(this.chainId)})}return c}catch(c){throw this.signer.logger.error(c),c}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",r=>{const{params:i}=r,{event:c}=i;c.name==="accountsChanged"?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):c.name==="chainChanged"?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",r)}),this.signer.on("chainChanged",r=>{const i=parseInt(r);this.chainId=i,this.events.emit("chainChanged",Er(this.chainId)),this.persist()}),this.signer.on("session_update",r=>{this.events.emit("session_update",r)}),this.signer.on("session_delete",r=>{this.reset(),this.events.emit("session_delete",r),this.events.emit("disconnect",ns(tn({},rs("USER_DISCONNECTED")),{data:r.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",r=>{var i,c;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(c=this.modal)==null||c.openModal({uri:r})),this.events.emit("display_uri",r)})}switchEthereumChain(r){this.request({method:"wallet_switchEthereumChain",params:[{chainId:r.toString(16)}]})}isCompatibleChainId(r){return typeof r=="string"?r.startsWith(`${this.namespace}:`):!1}formatChainId(r){return`${this.namespace}:${r}`}parseChainId(r){return Number(r.split(":")[1])}setChainIds(r){const i=r.filter(c=>this.isCompatibleChainId(c)).map(c=>this.parseChainId(c));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",Er(this.chainId)),this.persist())}setChainId(r){if(this.isCompatibleChainId(r)){const i=this.parseChainId(r);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(r){const[i,c,d]=r.split(":");return{chainId:`${i}:${c}`,address:d}}setAccounts(r){this.accounts=r.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(r){var i,c;const d=(i=r==null?void 0:r.chains)!=null?i:[],y=(c=r==null?void 0:r.optionalChains)!=null?c:[],I=d.concat(y);if(!I.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const T=d.length?(r==null?void 0:r.methods)||ss:[],z=d.length?(r==null?void 0:r.events)||as:[],ne=(r==null?void 0:r.optionalMethods)||[],le=(r==null?void 0:r.optionalEvents)||[],se=(r==null?void 0:r.rpcMap)||this.buildRpcMap(I,r.projectId),pe=(r==null?void 0:r.qrModalOptions)||void 0;return{chains:d==null?void 0:d.map(ue=>this.formatChainId(ue)),optionalChains:y.map(ue=>this.formatChainId(ue)),methods:T,events:z,optionalMethods:ne,optionalEvents:le,rpcMap:se,showQrModal:!!(r!=null&&r.showQrModal),qrModalOptions:pe,projectId:r.projectId,metadata:r.metadata}}buildRpcMap(r,i){const c={};return r.forEach(d=>{c[d]=this.getRpcUrl(d,i)}),c}async initialize(r){if(this.rpc=this.getRpcConfig(r),this.chainId=this.rpc.chains.length?xr(this.rpc.chains):xr(this.rpc.optionalChains),this.signer=await o_.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:r.disableProviderPing,relayUrl:r.relayUrl,storageOptions:r.storageOptions,customStoragePrefix:r.customStoragePrefix,telemetryEnabled:r.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:c}=await _v(()=>import("./index-DiyqN5Pq.js").then(d=>d.i),__vite__mapDeps([0,1,2]));i=c}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(tn({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(c){throw this.signer.logger.error(c),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(r){if(!r)return;const{chains:i,optionalChains:c,rpcMap:d}=r;i&&Sn(i)&&(this.rpc.chains=i.map(y=>this.formatChainId(y)),i.forEach(y=>{this.rpc.rpcMap[y]=(d==null?void 0:d[y])||this.getRpcUrl(y)})),c&&Sn(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c==null?void 0:c.map(y=>this.formatChainId(y)),c.forEach(y=>{this.rpc.rpcMap[y]=(d==null?void 0:d[y])||this.getRpcUrl(y)}))}getRpcUrl(r,i){var c;return((c=this.rpc.rpcMap)==null?void 0:c[r])||`${f_}?chainId=eip155:${r}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const r=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${r}`]?this.session.namespaces[`${this.namespace}:${r}`]:this.session.namespaces[this.namespace];this.setChainIds(r?[this.formatChainId(r)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}catch(r){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(r),await this.disconnect().catch(i=>this.signer.logger.warn(i))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(r){return typeof r=="string"||r instanceof String?[this.parseAccount(r)]:r.map(i=>this.parseAccount(i))}}const C_=os;export{C_ as EthereumProvider,p_ as OPTIONAL_EVENTS,l_ as OPTIONAL_METHODS,as as REQUIRED_EVENTS,ss as REQUIRED_METHODS,os as default};
